if (self.CavalryLogger) { CavalryLogger.start_js(["dFDuJ"]); }

__d("MessengerPlatformInterfaceType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN_INTERFACE:0,MESSENGER_INTERFACE:1,FB_INTERFACE:2,FB_POST_INTERFACE:3}}),null);
__d("TranslationRating",[],(function a(b,c,d,e,f,g){f.exports={UNDEFINED:0,VERY_BAD:1,BAD:2,OK:3,GOOD:4,VERY_GOOD:5}}),null);
__d("RTISubscriptionGate",["RTISubscriptionGateLoader"],(function a(b,c,d,e,f,g){var h=c("RTISubscriptionGateLoader").module;if(c("RTISubscriptionGateLoader").gkUseIcebreaker)h=new h(c("RTISubscriptionGateLoader").icebreakerWhitelist);f.exports=h}),null);
__d("UFIAsyncWrapper",["React","UFIConfig"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("UFIConfig").reactFiberAsyncUFI?c("React").unstable_AsyncComponent:c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.prototype.render=function(){return this.props.children};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("UFIAddCommentAction",["UFIAddCommentActionType"],(function a(b,c,d,e,f,g){"use strict";var h={cancel:function i(j){return{type:c("UFIAddCommentActionType").CANCEL,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},changeContent:function i(j,k,l){return{type:c("UFIAddCommentActionType").CHANGE_CONTENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,text:k,replyFBID:l}},retrySubmit:function i(j,k){return{type:c("UFIAddCommentActionType").RETRY_SUBMIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k}},submitEdit:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").SUBMIT_EDIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,commentData:l,target:m}},submitNew:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").SUBMIT_NEW,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,target:l,replyCommentID:m,timestamp:Date.now()}},submitCommentPivot:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").PIVOT_SEND_MESSAGE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,recipientID:m,comment:k,target:l,timestamp:Date.now()}}};f.exports=h}),null);
__d("UFINewCommentNotifier",["Arbiter","UFIFeedbackTargets","UFIUIEvents","UFIUserActions"],(function a(b,c,d,e,f,g){"use strict";var h={onNewComment:function i(j,k,l,m,n,o){c("UFIUserActions").addComment(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,replyid:n,rootid:k.rootid,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedsticker:l.attachedSticker,feedcontext:k.feedcontext,timestamp:o,feedbackReferrer:k.feedbackReferrer,isMarkdown:l.isMarkdown,fluentContentToken:k.fluentContentToken,isLiveVOD:k.isLiveVOD,islivestreaming:k.islivestreaming,photoTextTagID:k.photoTextTagID,isPrivate:l.isPrivate,isPhotoTag:k.isPhotoTag,photoFBID:k.photoFBID,photoTagX:k.photoTagX,photoTagY:k.photoTagY,attachedshareurl:l.attachedShareURL,isBroadcasterUFI:k.isBroadcasterUFI,enableVODCommentTimestamps:k.enableVODCommentTimestamps});c("UFIFeedbackTargets").getFeedbackTarget(k.ftentidentifier,function(p){if(j)c("Arbiter").inform(c("UFIUIEvents").Comment,{ft_id:p.entidentifier,target:m,form:j,isinverted:p.isranked||k.islivestreaming,isPhotoTag:k.isPhotoTag,photoTextTagID:k.photoTextTagID,photoTagX:k.photoTagX,photoTagY:k.photoTagY})})},onNewCommentPivot:function i(j,k,l,m,n,o){c("UFIUserActions").addMessage(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedsticker:l.attachedSticker,timestamp:o,attachedshareurl:l.attachedShareURL},n);c("UFIFeedbackTargets").getFeedbackTarget(k.ftentidentifier,function(p){if(j)c("Arbiter").inform(c("UFIUIEvents").CommentPivot,{ft_id:p.entidentifier,target:m,form:j})})}};f.exports=h}),null);
__d("UFICallbackStore",["FluxStore"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;j.prototype.__onDispatch=function(k){var l=k.type,m=babelHelpers.objectWithoutProperties(k,["type"]);this.__emitter.emit(l,m)};j.prototype.on=function(k,l){return this.__emitter.addListener(k,l)};j.prototype.remove=function(){this.__emitter.removeAllListeners()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FocusRelocator.react",["csx","CSS","Focus","React","getActiveElement"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.componentWillReceiveProps=function(l){var m=this.props,n=m.from,o=m.to,p=l.from,q=l.to;if(p&&q&&(n!==p||o!==q)){this.$FocusRelocator1&&this.$FocusRelocator1.remove();this.$FocusRelocator1=c("Focus").relocate(p,q)}};k.prototype.componentDidUpdate=function(){this.$FocusRelocator2()};k.prototype.componentWillUnmount=function(){this.$FocusRelocator1&&this.$FocusRelocator1.remove();this.$FocusRelocator1=null};k.prototype.render=function(){return this.props.children};k.prototype.$FocusRelocator3=function(){var l=this.props,m=l.from,n=l.to;if(m&&n){c("Focus").performRelocation(m,n,c("getActiveElement")()===this.props.from);this.$FocusRelocator2()}};k.prototype.$FocusRelocator2=function(){setTimeout(function(){if(this.props.to&&c("getActiveElement")()===this.props.from&&!c("CSS").matchesSelector(this.props.to,"._16jm"))this.$FocusRelocator3()}.bind(this),0)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("findSplitPointForText",[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=null,m=i.split("\n");if(j&&i.length>j)l=j;if(k&&m.length>k){var n=m.slice(0,k).join("\n").length;if(l!==null)l=Math.min(n,l);else l=n}return l}f.exports=h}),null);
__d("partitionTextAndRanges",["UnicodeUtils"],(function a(b,c,d,e,f,g){function h(k,l){var m=k.offset+k.length;return l>k.offset&&l<m}function i(k,l){for(var m=0;m<k.length;m++){var n=k[m];if(h(n,l))return n.offset}return l}var j=function j(k,l,m){var n=[],o=[],p=i(l,m);for(var q=0;q<l.length;q++){var r=l[q];if(r.offset<p)n.push(r);else o.push(babelHelpers["extends"]({},r,{offset:r.offset-p}))}return{before:{ranges:n,text:c("UnicodeUtils").substr(k,0,p)},after:{ranges:o,text:c("UnicodeUtils").substr(k,p)}}};f.exports=j}),null);
__d("TruncatedTextWithEntities.react",["fbt","React","SeeMore.react","TextWithEntities.react","findSplitPointForText","partitionTextAndRanges"],(function a(b,c,d,e,f,g,h){var i,j,k=30;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TruncatedTextWithEntities1=function(r){if(!this.props.allowSeeMoreLinebreakOnLongWords||!r)return false;if(r.length<=k)return false;var s=/(^|\s)(\S+)$/,t=s.exec(r),u=t?t[2]:null;return!!(u&&u.length>k)}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.props.text||"",n=this.props.ranges||[];m=m.replace(/\s*$/,"");var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p)}var r=null;if(!this.props.shouldExpand)r=c("findSplitPointForText")(m,p,o);if(r!==null){while(m[r-1]==="\n")r--;var s=c("partitionTextAndRanges")(m,n,r),t=c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.before.ranges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.before.text});if(!this.props.showSeeMore)return c("React").createElement("span",{className:this.props.className,"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},t,c("React").createElement("span",null,h._("...")));var u=this.$TruncatedTextWithEntities1(s.before.text);return c("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},c("React").createElement(c("SeeMore.react"),{allowSeeMoreLinebreak:u,className:this.props.className,clickCallback:this.props.markViewerHasInteracted},t,c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.after.ranges,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.after.text})))}else return c("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:n,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:m}))};l.defaultProps={showSeeMore:true};f.exports=l}),null);
__d("UFIActorIconContainer.react",["cx","Image.react","React","ShortProfiles","UFIBusinessActorIcon.react","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").createElement(c("XUISpinner.react"),{size:"large"});i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={actor:null},n}l.prototype.componentWillMount=function(){this.$UFIActorIconContainer1()};l.prototype.componentDidUpdate=function(m){if(this.props.actorID!==m.actorID)this.$UFIActorIconContainer1()};l.prototype.$UFIActorIconContainer1=function(){c("ShortProfiles").get(this.props.actorID,function(m){return this.setState({actor:m})}.bind(this))};l.prototype.render=function(){var m=this.state.actor;if(!m)return k;var n=this.props.smallIcon?c("joinClasses")("img UFIActorImage _3qxe",this.props.className):c("joinClasses")("img UFIActorImage _54ru",this.props.className);return m.isBusinessPersona?c("React").createElement(c("UFIBusinessActorIcon.react"),{classNames:n,firstName:m.firstName,lastName:m.lastName,textClassNames:"UFIBusinessActorIconText"}):c("React").createElement(c("Image.react"),{alt:m.name,className:n,src:m.thumbSrc})};f.exports=l}),null);
__d("EmojiInputButton.react",["fbt","Bootloader","FocusRelocator.react","Link.react","React","createCancelableFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=null;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$EmojiInputButton4=function(event){event.preventDefault();event.stopPropagation();this.props.onClick&&this.props.onClick();this.setState({locked:false,visible:!this.state.locked?!this.state.visible:false})}.bind(this);this.$EmojiInputButton5=function(event){this.setState({locked:this.state.visible})}.bind(this);this.$EmojiInputButton7=function(n){if(!n)this.setState({visible:false,isVariationsShown:false})}.bind(this);this.$EmojiInputButton8=function(n){this.setState({isVariationsShown:n})}.bind(this);this.state={locked:false,visible:false,isVariationsShown:false}}l.prototype.componentWillUnmount=function(){this.$EmojiInputButton1&&this.$EmojiInputButton1.cancel();this.$EmojiInputButton1=null};l.prototype.render=function(){var m=h._("Insert an emoji"),n=this.state.visible?c("joinClasses")(this.props.iconActiveClassName,this.props.iconClassName):this.props.iconClassName;return c("React").createElement(c("FocusRelocator.react"),{from:this.$EmojiInputButton3,to:this.$EmojiInputButton2},c("React").createElement(c("Link.react"),{"aria-label":m,className:this.props.buttonClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":!this.state.visible?m:null,onClick:this.$EmojiInputButton4,onDragStart:function o(p){return p.preventDefault()},onMouseDown:this.$EmojiInputButton5,linkRef:function(o){return this.$EmojiInputButton3=o}.bind(this),role:"button"},c("React").createElement("div",{className:n,ref:function(o){return this.$EmojiInputButton2=o}.bind(this)}),this.$EmojiInputButton6()))};l.prototype.$EmojiInputButton6=function(){if(!k){if(this.state.visible){this.$EmojiInputButton1=c("createCancelableFunction")(function(){this.forceUpdate()}.bind(this));c("Bootloader").loadModules(["EmojiPicker.react"],function(m){k=m;if(this.$EmojiInputButton1){this.$EmojiInputButton1();this.$EmojiInputButton1=null}}.bind(this),"EmojiInputButton.react")}return null}return c("React").createElement(k,{context:this.$EmojiInputButton3,isVariationsShown:this.state.isVariationsShown,onToggle:this.$EmojiInputButton7,onSelect:this.props.onSelect,onVariationsShown:this.$EmojiInputButton8,shown:this.state.visible})};f.exports=l}),null);
__d("MentionsInputUtils",[],(function a(b,c,d,e,f,g){var h={generateDataFromTextWithEntities:function i(j){var k=j.text,l=[];(j.ranges||[]).forEach(function(n){var o=n.entity;if(!o.external&&!n.videoTimestamp&&!n.sphericalViewport&&!/\D/.test(o.id))l.push({uid:o.id,text:k.substr(n.offset,n.length),offset:n.offset,length:n.length,weakreference:!!o.weakreference})});var m={value:k,mentions:l};return m}};f.exports=h}),null);
__d("SnowflakePermalinkUtils",["URI"],(function a(b,c,d,e,f,g){var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function k(l){l=new(c("URI"))(l);return h.test(l.getPath())}};f.exports=j}),null);
__d("TextDelightEvents",["Bootloader","EventEmitter","EventEmitterWithHolding","EventHolder"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("EventEmitter"))(),i=new(c("EventEmitterWithHolding"))(h,new(c("EventHolder"))());function j(){c("Bootloader").loadModules(["TextDelightController"],function(l){return l.init()},"TextDelightEvents")}var k={emitScrapablePost:function l(m){j();i.emit("potential_delight_in_post",{text:m})},emitScrapableComment:function l(m){j();i.emit("potential_delight_in_comment",{text:m})},addListener:function l(event,m){i.once(event,m)}};f.exports=k}),null);
__d("AbstractCommentLiveTypingController",["destroyOnUnload","ex"],(function a(b,c,d,e,f,g){"use strict";var h={START:"start",STOP:"stop"},i=10*1e3;function j(k,l,m){this.$AbstractCommentLiveTypingController5=k;this.$AbstractCommentLiveTypingController6=l;this.$AbstractCommentLiveTypingController7=m;this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null;c("destroyOnUnload")(this.destroy.bind(this))}j.prototype.destroy=function(){this.$AbstractCommentLiveTypingController1&&this.$AbstractCommentLiveTypingController1.destroy();this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null};j.prototype.bootloadPublisherModule=function(k){throw new Error(c("ex")("bootloadPublisherModule not implemented, should be overridden by subclass"))};j.prototype.$AbstractCommentLiveTypingController8=function(k){var l=new k(this.$AbstractCommentLiveTypingController5,this.$AbstractCommentLiveTypingController6,this.$AbstractCommentLiveTypingController7),m=Date.now(),n=this.$AbstractCommentLiveTypingController3;if(n&&n+i>=m){var o=this.$AbstractCommentLiveTypingController4;if(o===h.START)l.handleStartEvent();else if(o===h.STOP)l.handleStopEvent()}this.$AbstractCommentLiveTypingController1=l};j.prototype.$AbstractCommentLiveTypingController9=function(){if(this.$AbstractCommentLiveTypingController2||!this.$AbstractCommentLiveTypingController5)return;this.$AbstractCommentLiveTypingController2=true;this.bootloadPublisherModule(this.$AbstractCommentLiveTypingController8.bind(this))};j.prototype.attemptPublishStartEvent=function(){this.$AbstractCommentLiveTypingController4=h.START;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1)this.$AbstractCommentLiveTypingController1.handleStartEvent();else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9()};j.prototype.attemptPublishStopEvent=function(){this.$AbstractCommentLiveTypingController4=h.STOP;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1)this.$AbstractCommentLiveTypingController1.handleStopEvent();else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9()};f.exports=j}),null);
__d("UFIAddCommentLiveTypingController",["AbstractCommentLiveTypingController","Bootloader"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AbstractCommentLiveTypingController"));i=h&&h.prototype;function j(k,l,m){i.constructor.call(this,k,l,m)}j.prototype.bootloadPublisherModule=function(k){c("Bootloader").loadModules(["UFIAddCommentLiveTypingPublisher"],k,"UFIAddCommentLiveTypingController")};j.prototype.attemptPublishStartEvent=function(){i.attemptPublishStartEvent.call(this)};j.prototype.attemptPublishStopEvent=function(){i.attemptPublishStopEvent.call(this)};f.exports=j}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={bootloaded:false,hasUploadFailure:false},this.$UFIAttachMediaSection1=null,this.$UFIAttachMediaSection2=null,this.$UFIAttachMediaSection3=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection4=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection5=function(){this.setState({hasUploadFailure:true})}.bind(this),this.$UFIAttachMediaSection6=function(event){this.props.onClick&&this.props.onClick();if(this.state.bootloaded)return;c("Bootloader").loadModules(["UFIUploader"],function(s){this.$UFIAttachMediaSection1=new s(this.refs.inputContainer,this.refs.inputControl,this.refs.input,this.props.getPhotoUploadData,this.props.prepareForAttachedPhotoPreview,this.props.prepareForAttachedVideoPreview,this.props.onPhotoUploadComplete,this.props.onVideoEncodeUpdate,this.props.onVideoUploadUpdate,this.props.onVideoUploadComplete,this.props.setFileInput,this.props.viewerActorID,this.$UFIAttachMediaSection3,this.$UFIAttachMediaSection4,this.$UFIAttachMediaSection5)}.bind(this),"UFIAttachMediaSection.react");this.setState({bootloaded:true})}.bind(this),o}m.prototype.componentDidMount=function(){var n=this.refs,o=n.input,p=n.inputControl;if(o&&p)this.$UFIAttachMediaSection2=c("Focus").relocate(o,p)};m.prototype.componentWillUnmount=function(){this.$UFIAttachMediaSection1&&this.$UFIAttachMediaSection1.destroy();if(this.$UFIAttachMediaSection2){this.$UFIAttachMediaSection2.remove();this.$UFIAttachMediaSection2=null}};m.prototype.render=function(){var n=this.props.allowVideoAttachments?i._("Attach a photo or video"):i._("Attach a photo"),o=i._("There was a problem with attaching the file, please try again"),p=this.state.hasUploadFailure,q=c("React").createElement("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(!!this.props.attachment?" _5t1p":""),"data-hover":p?null:"tooltip","data-tooltip-alignh":p?null:"center","data-tooltip-content":p?null:n,onClick:this.$UFIAttachMediaSection6,ref:"inputContainer",role:"presentation"},c("React").createElement("span",{className:"UFICommentPhotoIcon",ref:"inputControl"},c("React").createElement("input",{accept:this.props.allowVideoAttachments?c("UFICommentFileInputAcceptValues").both:c("UFICommentFileInputAcceptValues").photos,"aria-label":n,className:"_n",name:"file",ref:"input",title:n,type:"file",key:"0"})));return c("React").createElement(c("XUIError.react"),{xuiError:p?o:null,xuiErrorPosition:"above",xuiErrorAlignh:"center"},q)};m.propTypes={getPhotoUploadData:l.func.isRequired,prepareForAttachedPhotoPreview:l.func.isRequired,prepareForAttachedVideoPreview:l.func,onPhotoUploadComplete:l.func.isRequired,onVideoUploadComplete:l.func,onVideoUploadUpdate:l.func,onVideoEncodeUpdate:l.func,onClick:l.func,setFileInput:l.func.isRequired,targetId:l.string,allowVideoAttachments:l.bool,attachment:l.object,viewerActorID:l.string.isRequired};f.exports=m}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false},env:{type:"Enum",enumType:0}})}),null);
__d("UFICommentingAsConstituentHeader.react",["cx","fbt","AsyncRequest","BootloadedComponent.react","Layout.react","Image.react","JSResource","React","UFIConfig","XFeedNUXSaveSeenStateController"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={hasSeenCommentingAsConstituentNUX:false,commentingAsConstituentNUXVisible:true},this.$UFICommentingAsConstituentHeader2=function(){this.setState({commentingAsConstituentNUXVisible:false,hasSeenCommentingAsConstituentNUX:true});var t=c("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","commenting_as_constituent").setBool("seen",true).getURI();new(c("AsyncRequest"))(t).send()}.bind(this),p}n.prototype.render=function(){if(!this.props.uri)return null;var o=null;if(c("UFIConfig").shouldShowCommentingAsConstituentNUX)if(!this.state.hasSeenCommentingAsConstituentNUX)o=this.$UFICommentingAsConstituentHeader1();return c("React").createElement("div",{className:"_2ys2 uiContextualLayerParent"},c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("Image.react"),{src:"/images/civic_engagement/constituent_badges/constituent-badge_12_2x.png",className:"_2ys1"}),i._("You're commenting as a constituent")),c("React").createElement(l,null,c("React").createElement("a",{className:"_2ys3",href:this.props.uri,ref:"constituent_header_manage_button"},i._("Manage")))),o)};n.prototype.$UFICommentingAsConstituentHeader1=function(){return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFICommentingAsConstituentHeader.react"),bootloadPlaceholder:c("React").createElement("div",null),contextRef:function(){return this.refs.constituent_header_manage_button}.bind(this),shown:this.state.commentingAsConstituentNUXVisible,position:"above",alignment:"right",width:"custom",customwidth:280,onCloseButtonClick:this.$UFICommentingAsConstituentHeader2},c("React").createElement("div",{className:"_3w4h"},i._("Your constituent badge is on")),c("React").createElement("div",{className:"_2e59"},i._("You can turn your badge on or off at any time in Town Hall settings.")))};f.exports=n}),null);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","React","ReactLayeredComponentMixin_DEPRECATED","classWithMixins","mixin"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=278;j=babelHelpers.inherits(m,c("classWithMixins")(c("React").Component,c("mixin")(c("ReactLayeredComponentMixin_DEPRECATED"))));k=j&&j.prototype;function m(){k.constructor.call(this);this.$UFIGifButton4=function(){this.setState({flyoutShown:false,query:""})}.bind(this);this.$UFIGifButton7=function(){this.$UFIGifButton3=this.state.flyoutShown}.bind(this);this.$UFIGifButton6=function(){if(this.state.renderFlyout!==null){if(!this.$UFIGifButton3){this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow();this.setState({flyoutShown:true})}return}c("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(n,o,p){this.setState({flyoutShown:true,renderFlyout:function(){return{contextualDialog:c("React").createElement(n,{alignment:"right",behaviors:{flip:p,LayerTabIsolation:c("LayerTabIsolation")},className:"_5trk",contextRef:function(){return this.$UFIGifButton1}.bind(this),onBlur:this.$UFIGifButton4,onToggle:function(q){if(!q&&this.state.flyoutShown)this.$UFIGifButton4()}.bind(this),position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:l},c("React").createElement("div",null,c("React").createElement(o,{onEscKeyDown:this.$UFIGifButton4,onSelect:this.$UFIGifButton8,query:this.state.query,shown:this.state.flyoutShown,searchInterface:c("MessengerPlatformInterfaceType").FB_INTERFACE})))}}.bind(this)});this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow()}.bind(this),"UFIGifButton.react")}.bind(this);this.$UFIGifButton8=function(n){this.props.onGifSelected(n);this.$UFIGifButton4()}.bind(this);this.$UFIGifButton5=function(n){this.$UFIGifButton1=n}.bind(this);this.state={renderFlyout:null,flyoutShown:false,query:""}}m.prototype.componentDidMount=function(){this.$UFIGifButton2=c("Arbiter").subscribe("page_transition",function(){return this.$UFIGifButton4()}.bind(this))};m.prototype.componentWillUnmount=function(){this.$UFIGifButton2&&this.$UFIGifButton2.unsubscribe()};m.prototype.render=function(){var n=i._("Post a GIF");return c("React").createElement(c("FocusRelocator.react"),{from:this.$UFIGifButton1,to:this.refs.icon},c("React").createElement(c("Link.react"),{"aria-label":n,className:"_r1a UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?n:null,linkRef:this.$UFIGifButton5,onClick:this.$UFIGifButton6,onMouseDown:this.$UFIGifButton7,role:"button"},c("React").createElement("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children))};m.prototype.renderLayers=function(){return!this.state.renderFlyout||!this.state.flyoutShown?{}:this.state.renderFlyout()};m.defaultProps={showTooltip:true};f.exports=m}),null);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Format text with markdown");return c("React").createElement(c("Link.react"),{className:"_r1a _45-m","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":m,"aria-label":m,onClick:this.props.onClick},c("React").createElement("div",{tabIndex:0,className:"_45-n"+(this.props.active?" _45-o":"")}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("UFITipJarButton.react",["cx","fbt","Bootloader","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$UFITipJarButton1=function(){c("Bootloader").loadModules(["PhotoSnowlift","VideoChannel","LiveSendTipButtonUtil"],function(n,o,p){var q=n.getInstance(),r=o.get();if(q.fullscreen||q.isOpen||r)p.openPanel(!!r,this.props.videoID,this.props.receiverID);else p.bootloadSnowliftWithPanelOpen(this.props.permalink)}.bind(this),"UFITipJarButton.react")}.bind(this);this.$UFITipJarButton1=this.$UFITipJarButton1.bind(this)}l.prototype.render=function(){var m=i._("Send a Tip");return c("React").createElement(c("Link.react"),{className:"_r1a _qqp","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":m,"aria-label":m,onClick:this.$UFITipJarButton1},c("React").createElement("div",{className:"_qqq",ref:"tipJar",tabIndex:0}))};f.exports=l}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/markdown_preview/",{comment_body:{type:"String"}})}),null);
__d("UFIAddComment.react",["cx","fbt","invariant","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","EmojiInputButton.react","Event","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","MentionsInputUtils","MercuryIDs","QE2Logger","React","ReactDOM","Run","ShortProfiles","SnowflakePermalinkUtils","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextDelightEvents","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAddCommentLiveTypingController","UFIAttachMediaSection.react","UFICommentingAsConstituentHeader.react","UFICommentMessengerPromptConfig","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIConfig","UFIGifButton.react","UFIImageBlock.react","UFIMarkdownButton.react","UFIPlayLiveVODHighlightsStore","UFISharedDispatcher","UFIStickerButton.react","UFITipJarButton.react","URI","VideoPermalinkURI","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","getActiveElement","joinClasses","throttle"],(function aa(a,b,ba,ca,c,da,ea,d,e){"use strict";var f,g,h=a.URL||a.webkitURL||{},i=b("React").PropTypes,j=d._("Write a comment..."),k=d._("Write a reply..."),l=d._("Write an answer..."),m="fcg fss UFICommentTip",n=19,o="/ajax/ufi/upload/",p="/ajax/ufi/sticker_preview/",q=1e3,r="comment_content_change",s="www_messenger_comment_pivot_universe",t={UPLOAD:"uploading",ENCODE:"encoding"},u=false,v=false;f=babelHelpers.inherits(w,b("React").Component);g=f&&f.prototype;function w(x){g.constructor.call(this,x);this.$UFIAddComment10=function(event){if(this.props.isEditing&&b("Event").getKeyCode(event.nativeEvent)===b("Keys").ESC)this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs));if(this.$UFIAddComment1&&!this.$UFIAddComment2){b("Run").onBeforeUnload(this.$UFIAddComment11);this.$UFIAddComment2=true}var C=b("getActiveElement")();if(b("Event").getKeyCode(event.nativeEvent)===b("Keys").ESC)C.blur()}.bind(this);this.$UFIAddComment12=function(C){var D,E=this;b("UFISharedDispatcher").dispatch(b("UFIAddCommentAction").changeContent(this.props.contextArgs,C,this.props.replyCommentID));b("Arbiter").inform(r,{fbid:this.props.replyCommentID,text:C,instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier});b("TextDelightEvents").emitScrapableComment(C);if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)this.$UFIAddComment13(C);if(this.props.isTargetPage)(function(){var G=E.parseTextForMentions(C);if(G&&G.length==1)b("ShortProfiles").get(G[0].uid,function(H){if(H.type=="friend"){b("QE2Logger").logExposureForUser(s);if(b("UFICommentMessengerPromptConfig").show_messenger_prompt)this.$UFIAddComment14(G[0])}}.bind(E));else E.$UFIAddComment15()})();else if(this.props.contextArgs.showGroupChatPivot&&b("UFICommentMessengerPromptConfig").show_groups_prompt){var F=this.parseTextForMentions(C);if(F&&F.length>=1)this.$UFIAddComment16(F.map(function(G){return G.uid}));else this.$UFIAddComment17()}}.bind(this);this.$UFIAddComment13=function(C){var D=b("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",C).getURI();new(b("AsyncRequest"))(D).setHandler(this.$UFIAddComment18).send()}.bind(this);this.$UFIAddComment18=function(C){if(!C)return;this.setState({commentMarkdownPreviewContent:C.payload?C.payload.markup:null})}.bind(this);this.$UFIAddComment11=function(){var C=a.PageTransitions;if(C){var D=b("URI").getNextURI(),E=C.getMostRecentURI();if(Object.prototype.hasOwnProperty.call(D.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(E.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(D.getQueryData(),"sdialog")||b("SnowflakePermalinkUtils").isPermalinkURI(D)||b("SnowflakePermalinkUtils").isPermalinkURI(E)||b("VideoPermalinkURI").isValid(D)&&D.getQueryData().ref==="channel"||b("VideoPermalinkURI").isValid(E)&&E.getQueryData().ref==="channel")return;var F=a.DialogNavigationStack;if(F&&F.isActiveURI(D))return}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return d._("You haven't finished your comment yet. Do you want to leave without finishing?")}.bind(this);this.$UFIAddComment19=function(){this.setState({markdownNUXVisible:false,gifsInCommentsNUXVisible:false});setTimeout(function(){if(this.$UFIAddComment1)this.setState({isFocused:false})}.bind(this),100);if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false})}.bind(this);this.$UFIAddComment20=function(event){var C=new(b("ClipboardPhotoUploader"))(o,this.$UFIAddComment21());this.$UFIAddComment22();this.$UFIAddComment3=[C.subscribe("upload_start",this.$UFIAddComment23),C.subscribe("upload_error",this.$UFIAddComment24),C.subscribe("upload_success",function(D,E){this.$UFIAddComment25(E)}.bind(this))];C.handlePaste(event)}.bind(this);this.$UFIAddComment26=function(C,event){var D,E=this,F;this.setState({hasSubmitted:true});var G=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedSticker||this.state.attachedGIF,H=this.props.isEditing||G;if(this.state.messengerTarget&&this.state.messengerTarget.uid){var D=function(){var I=E.state.messengerTarget.uid;E.context.dispatch(b("UFIAddCommentAction").submitCommentPivot(E.props.contextArgs,C,event.target,I));b("Bootloader").loadModules(["FantaTabActions"],function(J){J.openTab(b("MercuryIDs").getThreadIDFromUserID(I))},"UFIAddComment.react");E.setState({messengerTarget:null});return{v:true}}();if(typeof D==="object")return D.v}if(this.props.contextArgs.showGroupChatPivot){if(this.state.sendAsChat){var F=function(){var I=E.state.chatPivotTargets,J=E.props,K=J.contextArgs,L=J.groupID,M=J.viewerActorID;b("Bootloader").loadModules(["FantaTabActions","MercurySourceType","XMessengerAssociatedObjectGroupCreateController"],function(N,O,P){if(!L||!I)return;var Q=I.indexOf(M)===-1?[M].concat(I):I;if(!C.encodedValue)return;var R=P.getURIBuilder().setString("entry_point","fbgroup_comment_pivot").setString("source",O.WEB).setString("body",C.encodedValue).setFBID("group_post_id",K.ftentidentifier).setFBID("attachment_id",K.ftentidentifier).setFBID("associated_object_id",L).setFBIDSet("participant_fbids",Q).getURI();new(b("AsyncRequest"))(R).setHandler(function(S){var T=S.payload;if(T)N.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(T))}).send()},"UFIAddComment.react");E.context.dispatch(b("UFIAddCommentAction").cancel(E.props.contextArgs));E.setState({sendAsChat:false,chatPivotTargets:null});return{v:true}}();if(typeof F==="object")return F.v}this.setState({sendAsChat:false,chatPivotTargets:null})}if(this.state.isLoadingPhoto||this.$UFIAddComment27())return false;else if((!C.encodedValue||!C.encodedValue.trim())&&!H)return false;C.encodedValue=C.encodedValue?C.encodedValue.trim():"";if(this.state.commentMarkdownEnabled){C.isMarkdown=true;this.setState({commentMarkdownEnabled:false,commentMarkdownPreviewContent:null})}if(G){C.attachedPhoto=this.state.attachedPhoto;C.attachedVideo=this.state.attachedVideo;C.attachedSticker=this.state.attachedSticker;if(this.state.attachedGIF)if(this.state.attachedGIF.source)C.attachedShareURL=this.state.attachedGIF.source.url;else if(this.state.attachedGIF.originalImageUrl)C.attachedShareURL=this.state.attachedGIF.originalImageUrl;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedVideo:null,attachedSticker:null,attachedGIF:null})}else{C.attachedPhoto=null;C.attachedVideo=null;C.attachedSticker=null;C.attachedGIF=null;C.attachedShareURL=null}if(this.props.isEditing)this.context.dispatch(b("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,C,event.target));else this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,C,event.target,this.props.replyCommentID));return true}.bind(this);this.focus=function(){var C={isCommenting:true,isFocused:true,hasSubmitted:false},D=this.props.contextArgs.loggedOutLinkConfig;if(D&&D.showAddComment)b("Bootloader").loadModules(["AsyncDialog"],function(G){G.bootstrap(D.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");if(this.props.allowGifAttachments&&b("UFIConfig").shouldShowGIFsInCommentsNux)if(!u){u=true;var E=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",true).getURI();new(b("AsyncRequest"))(E).send();C.gifsInCommentsNUXVisible=true}if(this.props.allowCommentMarkdown&&b("UFIConfig").shouldShowMarkdownCommentNUX&&!b("UFIConfig").shouldShowGIFsInCommentsNux)if(!v){v=true;var F=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",true).getURI();new(b("AsyncRequest"))(F).send();C.markdownNUXVisible=true}this.setState(C);if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();if(this.props.onFocus)this.props.onFocus();b("Arbiter").inform("UFIAddComment/focus",{})}.bind(this);this.$UFIAddComment32=function(C,D){this.setState({fileInput:C,fileUploader:D})}.bind(this);this.$UFIAddComment33=function(){this.setState({messengerTarget:null})}.bind(this);this.$UFIAddComment34=function(C){return this.setState({sendAsChat:C})}.bind(this);this.$UFIAddComment21=function(){var C=this.props.viewerActorID,D={profile_id:C,target_id:this.props.targetID,source:n};D[b("ActorURI").PARAMETER_ACTOR]=C;return D}.bind(this);this.$UFIAddComment25=function(C){if(!this.state.isLoadingPhoto)return;var D=C.getPayload();if(D&&D.fbid)this.setState({attachedPhoto:D,isLoadingPhoto:false});else this.$UFIAddComment24(null)}.bind(this);this.$UFIAddComment38=function(C,D){if(!this.state.attachedVideo||this.state.videoStatus!==t.ENCODE)return;if(D.obj.progress<this.state.videoProgress)return;D.obj.fbid=D.obj.videoID;this.setState({attachedVideo:D.obj,videoProgress:D.obj.progress,videoStatus:t.ENCODE});if(this.$UFIAddComment42(D.obj.stage))this.$UFIAddComment43()}.bind(this);this.$UFIAddComment39=function(C){this.setState({videoProgress:C})}.bind(this);this.$UFIAddComment37=function(C){if(this.state.videoStatus!==t.UPLOAD)return;if(C&&C.video_id)this.setState({videoProgress:0,attachedVideo:C,videoStatus:t.ENCODE})}.bind(this);this.$UFIAddComment24=function(event){b("Arbiter").inform("video_upload_cancel",{});if(this.state.fileInput)this.state.fileInput.clear();this.setState({attachedPhoto:null,attachedVideo:null,attachedGIF:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:false,videoProgress:0,isVideoFileTranscodedGIF:false})}.bind(this);this.$UFIAddComment23=function(){this.setState({attachedPhoto:null,isLoadingPhoto:true})}.bind(this);this.$UFIAddComment36=function(){var C=void 0,D=this.state.fileInput?this.state.fileInput.input:null,E=D?D.files[0]:null;if(E&&h.createObjectURL)C=h.createObjectURL(E);this.setState({attachedVideo:null,videoStatus:t.UPLOAD,videoFileURL:C,videoProgress:0,isVideoFileTranscodedGIF:Boolean(E&&E.type==="image/gif")})}.bind(this);this.$UFIAddComment44=function(C){if(!this.state.isLoadingPhoto)return;var D=C.getPayload();if(D&&D.fbid)this.setState({attachedSticker:D,isLoadingPhoto:false});else{b("Bootloader").loadModules(["Dialog"],function(E){var F=d._("Sticker Failed"),G=d._("There was a problem with attaching the sticker.");new E().setTitle(F).setBody(G).setButtons(E.OK).show()},"UFIAddComment.react");this.$UFIAddComment40(null)}}.bind(this);this.$UFIAddComment40=function(event){this.setState({attachedSticker:null,isLoadingPhoto:false})}.bind(this);this.onStickerSelected=function(C,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.$UFIAddComment45(C);return}this.sendSticker(C,event)}.bind(this);this.$UFIAddComment35=function(C){b("Bootloader").loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(D,E,F,G){var H=D.symbols[C];if(!H)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(H);return}if(!this.$UFIAddComment9)this.$UFIAddComment9=new G(b("ReactDOM").findDOMNode(this.refs.mentionsinput.refs.textarea));var I=this.refs.mentionsinput.refs.getTextFieldDOM(),J=F.getInstance(I),K=J.getValue();this.$UFIAddComment9||e(0);var L=E.insertEmoticon(H,K,this.$UFIAddComment9.getPos());J.setValue(L.result);this.$UFIAddComment9||e(0);this.$UFIAddComment9.setPos(L.start,L.end)}.bind(this),"UFIAddComment.react")}.bind(this);this.$UFIAddComment31=function(){this.setState({markdownNUXVisible:false})}.bind(this);this.onGifSelected=function(C){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.setState({attachedGIF:C});this.preprocessGIF(C);return}this.sendGIF(C)}.bind(this);this.$UFIAddComment1=false;var y=this.props.editingComment,z=y.attachment,A=z?z.type:null,B=A==="photo"?z:null;this.state={attachedPhoto:y.photo_comment||B,attachedVideo:y.video_comment||null,attachedSticker:A=="sticker"?z:null,attachedGIF:A=="gif"?z:null,commentMarkdownPreviewContent:null,commentMarkdownEnabled:false,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:false,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,isFocused:Boolean(this.props.isEditing),gifsInCommentsNUXVisible:false,markdownNUXVisible:false,hasSubmitted:false,inCommercialBreak:false,messengerTarget:null,isPlayingLiveVODHighlights:false,chatPivotTargets:null,sendAsChat:false}}w.prototype.$UFIAddComment14=function(x){this.setState({messengerTarget:x})};w.prototype.$UFIAddComment15=function(){this.setState({messengerTarget:null})};w.prototype.$UFIAddComment16=function(x){this.setState({chatPivotTargets:x})};w.prototype.$UFIAddComment17=function(){this.setState({chatPivotTargets:null})};w.prototype.$UFIAddComment27=function(){return this.state.videoStatus===t.UPLOAD||this.state.videoStatus===t.ENCODE&&this.state.videoProgress!==100};w.prototype.$UFIAddComment22=function(){if(this.$UFIAddComment3)this.$UFIAddComment3.forEach(function(x){x.unsubscribe()})};w.prototype.componentWillMount=function(){this.$UFIAddComment2=false;this.$UFIAddComment6=b("LitestandStoryInsertionStatus").registerBlocker(function(){return this.state.isCommenting}.bind(this));this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment4=new(b("SubscriptionsHandler"))();this.$UFIAddComment4.addSubscriptions(b("UFICommercialBreakStore").addListener(function(){this.setState({inCommercialBreak:b("UFICommercialBreakStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),b("UFIPlayLiveVODHighlightsStore").addListener(function(){this.setState({isPlayingLiveVODHighlights:b("UFIPlayLiveVODHighlightsStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)));this.$UFIAddComment5=null;if(b("UFIConfig").canPublishLive)this.$UFIAddComment4.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var x=b("UFIComposerIsTypingStore").getValueFor(this.props.contextArgs.ftentidentifier);if(x===null)return;if(!this.$UFIAddComment5)this.$UFIAddComment5=new(b("UFIAddCommentLiveTypingController"))(this.props.contextArgs.ftentidentifier,this.props.replyCommentID,this.props.viewerActorID);if(x)this.$UFIAddComment5.attemptPublishStartEvent();else this.$UFIAddComment5.attemptPublishStopEvent()}.bind(this)))};w.prototype.$UFIAddComment28=function(){this.$UFIAddComment5&&this.$UFIAddComment5.destroy();this.$UFIAddComment5=null};w.prototype.componentWillReceiveProps=function(x){var y=this.props.contextArgs.ftentidentifier,z=x.contextArgs.ftentidentifier;if(z!==y||this.props.replyCommentID!==x.replyCommentID||this.props.viewerActorID!==x.viewerActorID)this.$UFIAddComment28()};w.prototype.componentWillUnmount=function(){this.$UFIAddComment1=false;this.$UFIAddComment22();if(this.$UFIAddComment8)b("Arbiter").unsubscribe(this.$UFIAddComment8);if(this.$UFIAddComment7)b("Arbiter").unsubscribe(this.$UFIAddComment7);this.$UFIAddComment6&&this.$UFIAddComment6.unsubscribe();this.$UFIAddComment6=null;this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment28()};w.prototype.$UFIAddComment29=function(){if(this.state.gifsInCommentsNUXVisible)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.gif_button}.bind(this),shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right"},d._("You can now add GIFs to comments"));return null};w.prototype.$UFIAddComment30=function(){if(this.state.markdownNUXVisible)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.markdownButton}.bind(this),shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$UFIAddComment31},d._("[FB-Only] Markdown in Comments! Click to enable."));return null};w.prototype.render=function(){var x=this.props.contextArgs.loggedOutLinkConfig,y=true;if(x&&x.showAddComment)y=false;var z=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&y&&!this.props.contextArgs.hideActorPhoto,A=null;if(this.props.subtitle)A=b("React").createElement("span",{className:m},this.props.subtitle);else if(!this.state.isFocused&&this.props.isEditing)A=b("React").createElement("span",{className:m},d._("{cancel}",[d.param("cancel",b("React").createElement(b("Link.react"),{onClick:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},d._("Cancel")))]));else if(this.props.isEditing)A=b("React").createElement("span",{className:m},d._("Press Esc to {cancel}.",[d.param("cancel",b("React").createElement(b("Link.react"),{onMouseDown:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},d._("cancel")))]));else if(this.props.multiCompanyGroupsCount&&this.state.isFocused)A=b("React").createElement("div",{className:"fcg fsm _2pid"},b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}),b("React").createElement("span",{className:"_2pir _4zk5"},d._({"*":"People from {number} companies will see this.","_1":"People from 1 company will see this."},[d.plural(this.props.multiCompanyGroupsCount,"number")])));else if(this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI)A=b("React").createElement("span",{className:m},d._("Press Enter to post."));var B=null,C=null,D=null,E=null,F=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedGIF,G=null,H=null;if(this.props.allowCommentMarkdown)E=b("React").createElement(b("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var $=!this.state.commentMarkdownEnabled;this.setState({commentMarkdownEnabled:$});if(this.refs.mentionsinput&&$)this.$UFIAddComment13(this.refs.mentionsinput.getText())}.bind(this)});if(this.props.allowStickerAttachments&&!F)C=b("React").createElement(b("UFIStickerButton.react"),{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this.$UFIAddComment35,onStickerFlyoutShow:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this)});if(this.props.allowGifAttachments&&!F)D=b("React").createElement(b("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this)});if(this.props.allowTipJar)H=b("React").createElement(b("UFITipJarButton.react"),{instanceID:this.props.contextArgs.instanceid,permalink:this.props.contextArgs.permalink,receiverID:this.props.targetID,videoID:this.props.contextArgs.ftentidentifier});if(this.props.allowPhotoAttachments||this.props.allowVideoAttachments){G=this.$UFIAddComment20;B=b("React").createElement(b("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$UFIAddComment21,prepareForAttachedPhotoPreview:this.$UFIAddComment23,prepareForAttachedVideoPreview:this.$UFIAddComment36,allowVideoAttachments:this.props.allowVideoAttachments,onPhotoUploadComplete:this.$UFIAddComment25,onVideoUploadComplete:this.$UFIAddComment37,onVideoEncodeUpdate:this.$UFIAddComment38,onVideoUploadUpdate:this.$UFIAddComment39,setFileInput:this.$UFIAddComment32,targetId:this.props.targetID,onClick:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),attachment:F,viewerActorID:this.props.viewerActorID})}var I=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX),J="addComment_"+this.props.contextArgs.ftentidentifier,K=void 0;if(this.props.replyCommentID)K=k;else if(this.props.isQAndA)K=d._("Ask a question...");else if(this.props.contextArgs.isaskquestion)K=l;else K=j;var L=this.props.contextArgs.viewoptionstypeobjects,M=this.props.contextArgs.viewoptionstypeobjectsorder;if(this.props.attachedPhoto&&!this.props.subtitle)A=null;var N=void 0;if(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===t.UPLOAD||this.state.attachedSticker||this.state.attachedGIF)N=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$UFIAddComment24,onRemoveAttachedStickerPreview:this.$UFIAddComment40,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF});var O=this.props.contextArgs.mentionsinput,P=null,Q=null,R=null;if(O){P=O.inputComponent;Q=O.viewComponent;R=O.viewProps}var S=this.props.editingComment.body,T=S?b("MentionsInputUtils").generateDataFromTextWithEntities(S):null,U=null;if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)U=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),markup:this.state.commentMarkdownPreviewContent});var V=null;if(this.state.messengerTarget)V=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMessengerPrompt.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),target:this.state.messengerTarget,removeMessengerPrompt:this.$UFIAddComment33});if(this.state.chatPivotTargets)V=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMessengerGroupsPrompt.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),toggleSendingAsChat:this.$UFIAddComment34});var W=P?b("React").createElement(P,{disableInitTextarea:!y,replyCommentID:this.props.replyCommentID,initialData:T,placeholder:K,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:Q,viewProps:R,viewOptionsTypeObjects:L,viewOptionsTypeObjectsOrder:M,hashtags:this.props.contextArgs.sht,showHashtagTypeahead:b("UFIConfig").showHashtagTypeahead,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$UFIAddComment26,onFocus:this.focus,onBlur:this.$UFIAddComment19,onContentChange:this.$UFIAddComment12,onPaste:G,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI}):null,X=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders,Y=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs,Z=b("React").createElement("div",{className:"UFICommentContainer"},b("React").createElement("div",{className:"_fmi"+(X?" _613v":"")+" UFIInputContainer"},W,b("React").createElement("div",{className:"_fmk UFICommentAttachmentButtons _5op2"+(Y?" _15i7":"")+(Y?" _2kwm":"")},b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),onSelect:function($){this.refs.mentionsinput.insertEmoji($)}.bind(this)}),E,B,D,C,H)),V,U,N,A);if(z)Z=b("React").createElement(b("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowTipJar?" UFITipJarEnabledInput":"")},b("React").createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus,role:"presentation"},b("React").createElement(b("UFIActorIconContainer.react"),{actorID:this.props.viewerActorID})),Z);return b("React").createElement("div",{ref:function($){return this.rootNode=$}.bind(this),id:J,className:b("joinClasses")("UFIRow _4oep UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights?" hidden_elem":""),this.props.className),onKeyDown:this.$UFIAddComment10,"data-ft":I},this.$UFIAddComment41(),Z,this.$UFIAddComment29(),this.$UFIAddComment30())};w.prototype.componentDidUpdate=function(x,y){if(!y.attachedPhoto&&this.state.attachedPhoto||!y.attachedSticker&&this.state.attachedSticker||!y.attachedVideo&&this.state.attachedVideo||!y.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();else if(this.props.keepFocus&&this.state.hasSubmitted)this.refs.mentionsinput.focus();if(x.viewerActorID!==this.props.viewerActorID){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this.$UFIAddComment21());this.$UFIAddComment24()}};w.prototype.componentDidMount=function(){this.$UFIAddComment1=true;this.$UFIAddComment13=b("throttle")(this.$UFIAddComment13,q,this);if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments)return;if(this.props.replyCommentID===null){this.$UFIAddComment7=b("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(x){this.refs.mentionsinput.focus()}.bind(this));if(this.props.contextArgs.issnowlift)this.$UFIAddComment8=b("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(x,y){var event={clipboardData:{items:[y]}};this.$UFIAddComment20(event)}.bind(this))}};w.prototype.$UFIAddComment41=function(){if(this.props.constituentBanner&&!this.props.replyCommentID)return b("React").createElement(b("UFICommentingAsConstituentHeader.react"),{uri:this.props.constituentBanner});return null};w.prototype.insertMention=function(x){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(x)};w.prototype.$UFIAddComment42=function(x){return x==="finish"};w.prototype.$UFIAddComment43=function(){this.state.fileInput&&this.state.fileInput.clear()};w.prototype.$UFIAddComment45=function(x){this.setState({attachedSticker:null,isLoadingPhoto:true});new(b("AsyncRequest"))(p).setData({sticker_id:x}).setErrorHandler(this.$UFIAddComment40).setHandler(this.$UFIAddComment44).send()};w.prototype.sendSticker=function(x,event){var y={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:x}};this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,y,event.target,this.props.replyCommentID))};w.prototype.$UFIAddComment46=function(){this.setState({gifsInCommentsNUXVisible:false})};w.prototype.preprocessGIF=function(x){var y=b("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(b("AsyncRequest"))(y).setData({gif_url:x.source.url}).send()};w.prototype.sendGIF=function(x){var y={encodedValue:"",visibleValue:"",attachedShareURL:x.source.url};if(this.rootNode)this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,y,this.rootNode,this.props.replyCommentID))};w.prototype.parseTextForMentions=function(x){var y=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,z=[],A=void 0;while(A=y.exec(x)){var B={uid:A[1],text:A[2],offset:A.index,length:A[2].length,weakreference:false,entity:{uid:A[1],weakreference:false}};z.push(B);y.lastIndex=B.offset+B.length}return z};w.contextTypes={dispatch:i.func};c.exports=w}),null);
__d("XUFICommentTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("UFICommentCount.react",["cx","fbt","ActorURI","NumberFormat","React","XUFICommentTooltipController"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$UFICommentCount1=function(){var n=this.props.commentCount,o=n==1;if(typeof n==="number")n=c("NumberFormat").formatInteger(n);return i._({"Comment":"{count} comment","Comments":"{count} comments"},[i.param("count",n),i["enum"](o?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})])};m.prototype.render=function(){var n=this.props.feedback,o=n.entidentifier,p=n.actorforpost,q=this.$UFICommentCount1(),r="fcg",s=null;if(o&&p)s=c("ActorURI").create(c("XUFICommentTooltipController").getURIBuilder().setString("ft_ent_identifier",o).getURI(),p);if(s)return c("React").createElement("span",{"aria-live":"polite",className:r,"data-hover":"tooltip","data-tooltip-uri":s},q);else return c("React").createElement("span",{className:r},q)};function m(){j.apply(this,arguments)}m.propTypes={commentCount:l.oneOfType([l.number,l.string]).isRequired,feedback:l.object.isRequired};f.exports=m}),null);
__d("UFICommentLink.react",["cx","fbt","React","TrackingNodes","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Leave a comment"),o='{ "tn": "'+c("TrackingNodes").encodeTN(c("TrackingNodes").types.COMMENT_LINK)+'", "type": 24 }';return c("React").createElement("a",{className:"comment_link _5yxe",role:"button",href:this.props.href?this.props.href:"#",title:n,ajaxify:this.props.ajaxify,rel:this.props.rel,onClick:this.props.onClick,"data-ft":o},this.props.children)};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func,href:l.string,ajaxify:l.string,rel:l.string};m.defaultProps={onClick:c("emptyFunction")};f.exports=m}),null);
__d("UFILikeLink.react",["cx","fbt","Bootloader","React","ReactDOM","SutroPhase2GatingConfig","TrackingNodes","UFILikeWebDriverIDs"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=null;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$UFILikeLink1=null,this.state={nuxShown:false},this.onClick=function(t){if(this.props.href)return;t.preventDefault();this.props.onClick&&this.props.onClick(t);if(this.props.showLikeNuxForGroupMallAds){var u=!this.props.likeAction;if(!u){c("ReactDOM").findDOMNode(this.$UFILikeLink1).focus();this.setState({nuxShown:true});c("Bootloader").loadModules(["UFIGroupMallAdsLikeNux.react"],function(v){m=v},"UFILikeLink.react")}else this.setState({nuxShown:false})}}.bind(this),p}n.prototype.renderLayers=function(){if(!this.state.nuxShown||!m)return null;return c("React").createElement(m,{nuxShown:this.state.nuxShown,nuxContent:this.props.likeNuxContent,contextRef:this.$UFILikeLink1})};n.prototype.render=function(){var o=!this.props.likeAction,p=o?c("UFILikeWebDriverIDs").UNLIKE_LINK:c("UFILikeWebDriverIDs").LIKE_LINK,q=!o||!this.props.forcelegacyrendering?i._("Like"):i._("Unlike"),r=c("TrackingNodes").getTrackingInfo(o?c("TrackingNodes").types.UNLIKE_LINK:c("TrackingNodes").types.LIKE_LINK),s=o?i._("Unlike this"):i._("Like this"),t=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("span",{className:t?"_3wv2":""},c("React").createElement("a",{className:"_48-k UFILikeLink"+(o?" UFILinkBright":""),ref:function(u){return this.$UFILikeLink1=u}.bind(this),"data-testid":p,href:this.props.href||"#",role:"button","aria-label":s,"aria-live":"polite","aria-pressed":o,rel:this.props.rel,ajaxify:this.props.ajaxify,onBlur:this.props.onBlur,onClick:this.onClick,onClickCapture:this.props.onClickCapture,onDragStart:this.props.onDragStart,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onKeyDown:function(u,v){this.props.onKeyDown&&this.props.onKeyDown(u,v)}.bind(this),"data-ft":r},q),this.renderLayers())};n.propTypes={ajaxify:l.string,forcelegacyrendering:l.bool,href:l.string,likeAction:l.bool,likeNuxContent:l.string,rel:l.string,showLikeNuxForGroupMallAds:l.bool};n.defaultProps={forcelegacyrendering:false,showLikeNuxForGroupMallAds:false};f.exports=n}),null);
__d("UFIMentionsInputProxy.react",["cx","Promise","JSResource","JSResourceReference","React","emptyFunction","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"UFIMentionsInputProxy",_cmdBuffer:[],getInitialState:function j(){return{component:null,viewComponent:null}},componentDidMount:function j(){this._cmdBuffer=this._cmdBuffer||[];if(this.props.initialData)this._bootload()},componentDidUpdate:function j(){if(this.state.component)this._drainFnBuffer()},hasEnteredText:function j(){return this._fillCmdBuffer({fn:"hasEnteredText",args:[]})},getText:function j(){return this._fillCmdBuffer({fn:"getText",args:[]})},focus:function j(){this._bootload();this._fillCmdBuffer({fn:"focus",args:[]})},submitComment:function j(event,k){this._fillCmdBuffer({fn:"submitComment",args:[event,k]})},insertMention:function j(k){this._fillCmdBuffer({fn:"insertMention",args:[k]})},insertEmoticon:function j(k){this._fillCmdBuffer({fn:"insertEmoticon",args:[k]})},insertEmoji:function j(k){this._fillCmdBuffer({fn:"insertEmoji",args:[k]})},_bootload:function j(){c("Promise").all([c("JSResource")("UFIMentionsInput.react").__setRef("UFIMentionsInputProxy.react").load(),new(c("Promise"))(function(k){if(this.props.viewComponent instanceof c("JSResourceReference"))this.props.viewComponent.load().done(k);else k(this.props.viewComponent)}.bind(this))]).done(function(k){var l=k[0],m=k[1];if(this.isMounted())this.setState({component:l,viewComponent:m})}.bind(this))},_shouldDrainBuffer:function j(){return this._cmdBuffer.length>0},_fillCmdBuffer:function j(k){if(this.refs.mentionsinputchild)return this._execCmd(k);else this._cmdBuffer=this._cmdBuffer.concat([k])},_drainFnBuffer:function j(){if(this._shouldDrainBuffer()){var k=this._cmdBuffer[0];this._execCmd(k);this._cmdBuffer=this._cmdBuffer.slice(1);c("setImmediate")(this._drainFnBuffer)}},_execCmd:function j(k){var l=this.refs.mentionsinputchild;return l[k.fn].apply(l,k.args)},_renderProxyInput:function j(){var k="_1osa mentionsHidden";return c("React").createElement("input",{className:k,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus})},_renderDummy:function j(){var k="UFIAddCommentInput _1osb _1osc _2xww";return c("React").createElement("div",{onClick:this.focus,className:"_2xwx",onFocus:this.focus,onMouseOver:this._bootload,role:"presentation"},c("React").createElement("div",{className:k},this._renderProxyInput(),this.props.placeholder))},render:function j(){var k=this.state.component;if(!k)return this._renderDummy();return c("React").createElement(k,babelHelpers["extends"]({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props,{viewComponent:this.state.viewComponent}),this.props.children)}});f.exports=i}),null);
__d("UFIShareLink.react",["cx","fbt","CurrentUser","React","SutroPhase2GatingConfig","TrackingNodes","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFIShareLink1=function(event){if(this.props.href&&this.props.href!=="#"&&!this.props.onClick)return;event.preventDefault();this.props.onClick&&this.props.onClick(event)}.bind(this),n}l.prototype.render=function(){var m=i._("Send this to friends or post it on your Timeline.");if(c("CurrentUser").isWorkUser())m=i._("Send this to colleagues or post it on your Timeline.");var n='{ "tn": "'+c("TrackingNodes").encodeTN(c("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }',o=null;if(this.props.rel!=="dialog")o=c("React").createElement(c("XUISpinner.react"),{className:"UFIShareLinkSpinner _1wfk",showOnAsync:true});var p=this.props,q=p.openOnInit,r=babelHelpers.objectWithoutProperties(p,["openOnInit"]),s=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("span",{className:"_27de"+(s?" _4noj":"")},c("React").createElement("a",babelHelpers["extends"]({},r,{className:c("joinClasses")(this.props.className,"share_action_link _5f9b"),onClick:this.$UFIShareLink1,ref:function t(u){if(u&&q)u.click()},role:"button",tabIndex:0,"data-ft":n,title:m}),i._("Share"),o))};f.exports=l}),null);
__d("XUFIShareTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/share/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("XUFIShareTooltipController.flow",["XUFIShareTooltipController"],(function a(b,c,d,e,f,g){f.exports=c("XUFIShareTooltipController")}),null);
__d("UFIShareRow.react",["cx","fbt","invariant","ActorURI","Layout.react","NumberFormat","React","UFICommentCount.react","URI","XUFIShareTooltipController.flow","intlSummarizeNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.$UFIShareRow1=function(){var p=this.props,q=p.feedback,r=p.shownCommentCount;if(r&&Number(r)!==0)return c("React").createElement(c("UFICommentCount.react"),{feedback:q,commentCount:r});return null};o.prototype.render=function(){var p=this.props.feedback.sharefbid||this.props.feedback.targetfbid,q=new(c("URI"))("/ajax/shares/view").setQueryData({target_fbid:p}),r=new(c("URI"))("/shares/view").setSubdomain("www").setQueryData({id:p}),s=this.props.contextArgs.loggedOutLinkConfig;if(s&&s.showShareLink){q=s.shareAjaxifyURI;q||j(0)}var t=void 0;if(this.props.feedback.sharecount>1){var u=this.props.useReducedShareCount?c("intlSummarizeNumber")(this.props.feedback.sharecount):c("NumberFormat").formatInteger(this.props.feedback.sharecount);t=i._("{count} shares",[i.param("count",u)])}else t=i._("1 share");var v="UFIRow UFIShareRow"+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":""),w=c("ActorURI").create(c("XUFIShareTooltipController.flow").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),x=c("React").createElement("a",{className:"UFIShareLink",rel:"dialog","data-hover":"tooltip","data-tooltip-uri":w,ajaxify:q.toString(),href:r.toString()},t),y=this.$UFIShareRow1();if(y)x=c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,x),c("React").createElement(m,null,y));return c("React").createElement("div",{className:v},x)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("FBCollapsibleList.react",["Link.react","React","getObjectValues"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes,k={COMMA:"comma",NEWLINE:"newline"};h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={numShown:this.props.numVisible},this.$FBCollapsibleList1=function(){return this.state.numShown<this.$FBCollapsibleList6()}.bind(this),this.$FBCollapsibleList2=function(){var r=this.$FBCollapsibleList6();return this.props.showLessLink&&this.props.numVisible<r&&this.state.numShown>=r}.bind(this),this.$FBCollapsibleList4=function(){var r=this.$FBCollapsibleList6()-this.props.numVisible;return c("React").createElement(c("Link.react"),{onClick:this.$FBCollapsibleList7,key:"seeMore"},c("React").createElement("b",null,"Show more ","(",r,")"))}.bind(this),this.$FBCollapsibleList5=function(){return c("React").createElement(c("Link.react"),{onClick:this.$FBCollapsibleList8,key:"seeLess"},c("React").createElement("b",null,"Show less"))}.bind(this),this.$FBCollapsibleList3=function(r,s){switch(this.props.delimiter){case k.NEWLINE:return[c("React").createElement("div",{key:r.key},r)];case k.COMMA:return s?[r]:[r,", "];default:throw new Error("Invalid delimiter: "+this.props.delimiter)}}.bind(this),this.$FBCollapsibleList8=function(){this.setState({numShown:this.props.numVisible})}.bind(this),this.$FBCollapsibleList6=function(){if(!!this.props.maxShowMore&&this.props.maxShowMore<this.props.children.length)return this.props.maxShowMore;return this.props.children.length}.bind(this),this.$FBCollapsibleList7=function(){this.setState({numShown:this.$FBCollapsibleList6()})}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.$FBCollapsibleList1(),n=this.$FBCollapsibleList2(),o=Math.min(this.state.numShown,this.props.children.length),p=m||n,q=[];for(var r=0;r<o;r++){var s=!p&&r===o-1;q.push(this.$FBCollapsibleList3(this.props.children[r],s))}if(m)q.push(this.$FBCollapsibleList4());else if(n)q.push(this.$FBCollapsibleList5());return this.props.display=="block"?c("React").createElement("div",this.props,q):c("React").createElement("span",this.props,q)};l.propTypes={delimiter:j.oneOf(c("getObjectValues")(k)),display:j.oneOf(["inline","block"]),numVisible:j.number.isRequired,maxShowMore:j.number,showLessLink:j.bool};l.Delimiters=k;l.defaultProps={children:[],delimiter:k.NEWLINE,display:"block",showLessLink:false};f.exports=l}),null);
__d("ReactComposerNestedActionDispatchTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ReactComposerNestedActionDispatchLoggerConfig",this.$ReactComposerNestedActionDispatchTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ReactComposerNestedActionDispatchLoggerConfig",this.$ReactComposerNestedActionDispatchTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ReactComposerNestedActionDispatchTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ReactComposerNestedActionDispatchTypedLogger1=babelHelpers["extends"]({},this.$ReactComposerNestedActionDispatchTypedLogger1,j);return this};h.prototype.setInnerActionType=function(j){this.$ReactComposerNestedActionDispatchTypedLogger1.inner_action_type=j;return this};h.prototype.setOuterActionType=function(j){this.$ReactComposerNestedActionDispatchTypedLogger1.outer_action_type=j;return this};h.prototype.setStack=function(j){this.$ReactComposerNestedActionDispatchTypedLogger1.stack=j;return this};h.prototype.setVC=function(j){this.$ReactComposerNestedActionDispatchTypedLogger1.vc=j;return this};var i={inner_action_type:true,outer_action_type:true,stack:true,vc:true};f.exports=h}),null);
__d("MultiBootstrapDataSource",["DataSource"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("DataSource"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this._bootstrapEndpoints=k.bootstrapEndpoints}j.prototype.bootstrapWithoutToken=function(){"use strict";for(var k=0;k<this._bootstrapEndpoints.length;k++)this.fetch(this._bootstrapEndpoints[k].endpoint,this._bootstrapEndpoints[k].data||{},{bootstrap:true})};f.exports=j}),null);
__d("linkifyEntityRange",["Link.react","React"],(function a(b,c,d,e,f,g){function h(i,j){var k=(j.entity||{}).url;if(!k)return c("React").createElement("span",null,i);return c("React").createElement(c("Link.react"),{href:k,target:"_blank"},i)}f.exports=h}),null);
__d("ReactComposerAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,UPLOAD_ATTACHMENT:null},"ReactComposerAttachmentActionType")}),null);
__d("ReactComposerMediaUploadActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,PHOTO_SET_THUMBNAIL:null,SPHERICAL_PHOTO_CHECK_DONE:null,SPHERICAL_PHOTO_CHECK_FAILED:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},"ReactComposerMediaUploadActionType")}),null);
__d("ReactComposerScrapedAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_SHARE_SELECTED:null},"ReactComposerScrapedAttachmentActionType")}),null);
__d("ReactComposerActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({COMPOSER_ENTRY:null,COMPOSER_CANCEL:null,COMPOSER_NAVIGATE_AWAY_ATTEMPT:null,INIT_CONFIG:null,POST_ERROR:null,POST_STARTED:null,POST_INTENDED:null,POST_SUCCEEDED:null,POST_FINALLY:null,POST_PREPROCESSING:null,PUBLISH_STARTED:null,PUBLISH_SUCCEEDED:null,COMPOSER_RESET:null,EXPAND_SPROUTS:null,COLLAPSE_SPROUTS:null,FEATURE_INTENT:null,FEATURE_DONE:null,FEATURE_CANCEL:null,SCHEDULE:null,SPROUT_VIEW_UPDATE:null},"ReactComposerActionTypes")}),null);
__d("ReactComposerEvents",[],(function a(b,c,d,e,f,g){var h={CHANGE:"change",INSTANCE_MOUNTED:"composer/instanceMounted/",ACTIVATE_ATTACHMENT:"composer/activateAttachment/",MENTION_INPUT_FOCUS:"composer/mentionInputFocused/",TEXT_PREFILL_BEFORE_BOOTLOAD:"composer/textPrefillBeforeBootload/",RERENDER_MENTION_INPUT:"reactComposer/rerenderMentionInput/",OPTIMISTIC_POSTING_STARTED:"composer/optimisticPostingStarted/",POST_FINALLY:"composer/postFinally/",POST_STARTED:"composer/postStarted/",POST_SUCCEEDED:"composer/postSucceeded/",COMPOSER_RESET:"composer/reset/",COMPOSER_UNMOUNT:"composer/unmount/",SET_PREFILL_DATA:"reactComposer/setPrefillData/"};f.exports=h}),18);
__d("ReactComposerLoggingQueue",["invariant","Bootloader","requireWeak"],(function a(b,c,d,e,f,g,h){var i=null;c("requireWeak")("ReactComposerLoggingStore",function(l){i=l});var j=[],k={add:function l(m){if(m&&m.suppressWaterfallLogging)return;m&&m.composerID||h(0);if(i&&i.isActivated(m.composerID))return;j.push(m)},initBootload:function l(m,n,o,p){c("Bootloader").loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],function(q,r,s,i){q.resetSessionID(m);r.registerComposer(n,o,p);s.registerComposer(n,p.targetType,p.ref,o);i.activate(m)},"ReactComposerLoggingQueue")},pop:function l(){return j.shift()},getLength:function l(){return j.length}};f.exports=k}),null);
__d("ReactComposerDispatcher",["Dispatcher_DEPRECATED","ReactComposerNestedActionDispatchTypedLogger","ReactComposerLoggingQueue"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("Dispatcher_DEPRECATED"));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$ReactComposerDispatcher1=[]}j.prototype.dispatch=function(k){"use strict";if(this.isDispatching()){new(c("ReactComposerNestedActionDispatchTypedLogger"))().setOuterActionType(this.$ReactComposerDispatcher2.type).setInnerActionType(k.type).setStack(new Error().stack).log();this.$ReactComposerDispatcher1.push(k)}else{this.$ReactComposerDispatcher2=k;i.dispatch.call(this,k);delete this.$ReactComposerDispatcher2;if(this.$ReactComposerDispatcher1.length>0){var l=this.$ReactComposerDispatcher1.shift();this.dispatch(l)}}c("ReactComposerLoggingQueue").add(k)};f.exports=new j()}),null);
__d("ReactComposerStoreBase",["EventEmitter","Map","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerEvents"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$ReactComposerStoreBase1=k;this.$ReactComposerStoreBase2=new(c("Map"))();this.$ReactComposerStoreBase3=c("ReactComposerDispatcher");this.$ReactComposerStoreBase4=this.$ReactComposerStoreBase3.register(function(m){switch(m.type){case c("ReactComposerActionTypes").COMPOSER_RESET:this.__cleanup(m);break}l(m)}.bind(this))}j.prototype.getComposerData=function(k){var l=this.$ReactComposerStoreBase2.get(k);if(!l){l=this.$ReactComposerStoreBase1();this.$ReactComposerStoreBase2.set(k,l)}return l};j.prototype.clearComposerData=function(k){this.$ReactComposerStoreBase2.set(k,this.$ReactComposerStoreBase1())};j.prototype.addChangeListener=function(k){return i.addListener.call(this,c("ReactComposerEvents").CHANGE,k)};j.prototype.addListener=function(k,l,m){if(arguments.length===1&&typeof k==="function")return this.addChangeListener(k);else{var n;return(n=i.addListener).call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))}};j.prototype.emitChange=function(k){this.emit(c("ReactComposerEvents").CHANGE,{composerID:k})};j.prototype.getDispatchToken=function(){return this.$ReactComposerStoreBase4};j.prototype.getDispatcher=function(){return this.$ReactComposerStoreBase3};j.prototype.validateAction=function(k,l){l=[].concat(l);var m=l.map(function(n){if(k[n]===undefined)throw new Error("Action missing field: "+n);return k[n]});if(l.length===1)return m[0];return m};j.prototype.__cleanup=function(k){this.clearComposerData(k.composerID);this.emitChange(k.composerID)};f.exports=j}),null);
__d("ReactComposerActionStore",["errorCode","Arbiter","AsyncResponse","Bootloader","ReactComposerActionTypes","ReactComposerEvents","ReactComposerStoreBase","Set","requireWeak"],(function a(b,c,d,e,f,g,h){var i,j,k=void 0;c("requireWeak")("ReactComposerStatusStore",function(m){return k=m});i=babelHelpers.inherits(l,c("ReactComposerStoreBase"));j=i&&i.prototype;function l(m,n){"use strict";m=m?m:function(){return null};var o;j.constructor.call(this,m,function(p){if(!(o&&o.__shouldIgnoreAction(p)))switch(p.type){case c("ReactComposerActionTypes").POST_STARTED:o&&o.$ReactComposerActionStore2(p);break;case c("ReactComposerActionTypes").POST_INTENDED:o&&o.$ReactComposerActionStore3(p);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:o&&o.$ReactComposerActionStore4(p);break;case c("ReactComposerActionTypes").POST_ERROR:o&&o.$ReactComposerActionStore5(p);break;case c("ReactComposerActionTypes").POST_FINALLY:o&&o.$ReactComposerActionStore6(p);break;case c("ReactComposerActionTypes").POST_PREPROCESSING:o&&o.$ReactComposerActionStore7(p);break;default:}n&&n(p)});o=this;this.$ReactComposerActionStore1=new(c("Set"))()}l.prototype.registerComposerID=function(m){"use strict";this.$ReactComposerActionStore1.add(m)};l.prototype.$ReactComposerActionStore2=function(m){"use strict";var n=this.validateAction(m,"composerID");this.__onPostStarted&&this.__onPostStarted(m);c("Arbiter").inform(c("ReactComposerEvents").POST_STARTED+n)};l.prototype.$ReactComposerActionStore3=function(m){"use strict";this.validateAction(m,["composerID","actorID","config","targetID"]);if(!this.__canPost||this.__canPost(m))this.$ReactComposerActionStore2(m)};l.prototype.$ReactComposerActionStore4=function(m){"use strict";var n=this.validateAction(m,"composerID");if(k)var o=k.getMessage(n);this.__onPostSucceeded&&this.__onPostSucceeded(m);c("Arbiter").inform(c("ReactComposerEvents").POST_SUCCEEDED+n)};l.prototype.$ReactComposerActionStore5=function(m){"use strict";if(this.__onPostError)return this.__onPostError(m);if(m.response)c("AsyncResponse").defaultErrorHandler(m.response)};l.prototype.$ReactComposerActionStore6=function(m){"use strict";this.__onPostFinally&&this.__onPostFinally(m);c("Arbiter").inform(c("ReactComposerEvents").POST_FINALLY)};l.prototype.$ReactComposerActionStore7=function(m){"use strict";this.__onPostPreprocessing&&this.__onPostPreprocessing(m)};l.prototype.__shouldIgnoreAction=function(m){"use strict";var n=this.validateAction(m,"composerID");return!this.$ReactComposerActionStore1.has(n)};f.exports=l}),null);
__d("ReactComposerFocusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null})}),null);
__d("ReactComposerConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ID_PREFIX:"rc.",GK_VIDEO_COPYRIGHT:"video_copyright_confirmation_dialog",GK_MULTILINGUAL_COMPOSER:"multilingual_composer_www"})}),null);
__d("ReactComposerIDGenerator",["ReactComposerConstants","uniqueID"],(function a(b,c,d,e,f,g){"use strict";var h={getID:function i(){return c("ReactComposerConstants").ID_PREFIX+c("uniqueID")()},isComposerID:function i(j){return!!j&&j.startsWith(c("ReactComposerConstants").ID_PREFIX)}};f.exports=h}),null);
__d("ReactComposerInit",["invariant","Arbiter","Map","React","ReactComposerEvents","ReactComposerIDGenerator","ReactDOM"],(function a(b,c,d,e,f,g,h){var i={_isUnmounting:false,instances:new(c("Map"))(),changeProps:function j(k,l){var m=i._getCurrentInstance(k);m.props=l;i.resetComposer(k,true)},normalizeComposerID:function j(k){if(!k.contextConfig.composerID)k.contextConfig.composerID=c("ReactComposerIDGenerator").getID();return k.contextConfig.composerID},init:function j(k,l,m){var n=i.normalizeComposerID(l),o={ComposerModule:k,props:l,container:m,hidden:false};this._render(o);i.instances.set(n,o);c("Arbiter").inform(c("ReactComposerEvents").INSTANCE_MOUNTED+n)},_render:function j(k){var l=k.ComposerModule,m=k.props,n=k.container;c("ReactDOM").render(c("React").createElement(l,m),n)},_createNewComposer:function j(k,l){k.props.contextConfig.composerID=c("ReactComposerIDGenerator").getID();k.props.prefillConfig={};i.init(k.ComposerModule,k.props,l)},resetComposer:function j(k){var l=i._getCurrentInstance(k);i.unmountInstance(k);if(l.hidden)l.container.parentNode&&l.container.parentNode.removeChild(l.container);else i._createNewComposer(l,l.container);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID})},hideComposer:function j(k){var l=i._getCurrentInstance(k);l.container.style.display="none";l.hidden=true},showComposer:function j(k){var l=i._getCurrentInstance(k);l.container.style.display="block";l.hidden=false},hideAndReplaceComposer:function j(k){var l=i._getCurrentInstance(k),m=l.container.cloneNode(false);l.container.removeAttribute("id");l.container.parentNode&&l.container.parentNode.appendChild(m);this.hideComposer(k);i._createNewComposer(l,m);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID})},isInstanceMounted:function j(k){return!!i.instances.get(k)},unmountInstance:function j(k){if(i.isInstanceMounted(k)&&!i._isUnmounting){i._isUnmounting=true;i._unmountReact(k);i._isUnmounting=false;i.instances["delete"](k)}},_unmountReact:function j(k){var l=i._getCurrentInstance(k);c("ReactDOM").unmountComponentAtNode(l.container);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_UNMOUNT+k);return l},_getCurrentInstance:function j(k){var l=i.instances.get(k);l||h(0);return l}};f.exports=i}),null);
__d("ReactComposerSproutsDisplayState",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({INLINE:null,EXPANDED:null},"ReactComposerSproutsDisplayState")}),null);
__d("ReactComposerStore",["Bootloader","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerInit","ReactComposerScrapedAttachmentActionType","ReactComposerSproutsDisplayState"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerActionStore"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{isActive:false,orderedSprouts:[],serverErrorResponse:null,posting:false,postSucceeded:false,publishing:false,rankerRequestID:null,ref:null,targetType:null,sproutsDisplayState:c("ReactComposerSproutsDisplayState").INLINE,scheduledPublishTime:null}},function(l){switch(l.type){case c("ReactComposerActionTypes").INIT_CONFIG:k&&k.$ReactComposerStore1(l);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:k&&k.$ReactComposerStore2(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerStore3(l);break;case c("ReactComposerActionTypes").EXPAND_SPROUTS:k&&k.$ReactComposerStore4(l);break;case c("ReactComposerActionTypes").COLLAPSE_SPROUTS:k&&k.$ReactComposerStore5(l);break;case c("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT:case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerStore6(l);break;case c("ReactComposerActionTypes").SCHEDULE:k&&k.$ReactComposerStore7(l);break}});k=this}j.prototype.$ReactComposerStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduleDate};j.prototype.getScheduledPublishTime=function(k){"use strict";return this.getComposerData(k).scheduledPublishTime};j.prototype.getServerErrorResponse=function(k){"use strict";return this.getComposerData(k).serverErrorResponse};j.prototype.getRef=function(k){"use strict";return this.getComposerData(k).ref};j.prototype.getTargetType=function(k){"use strict";return this.getComposerData(k).targetType};j.prototype.getOrderedSprouts=function(k){"use strict";return this.getComposerData(k).orderedSprouts};j.prototype.getRankerRequestID=function(k){"use strict";return this.getComposerData(k).rankerRequestID};j.prototype.isPosting=function(k){"use strict";return this.getComposerData(k).posting};j.prototype.hasPostSucceeded=function(k){"use strict";return this.getComposerData(k).postSucceeded};j.prototype.isActive=function(k){"use strict";return this.getComposerData(k).isActive};j.prototype.isPublishing=function(k){"use strict";return this.getComposerData(k).publishing};j.prototype.getSproutsDisplayState=function(k){"use strict";return this.getComposerData(k).sproutsDisplayState};j.prototype.isUploading=function(k){"use strict";return this.getComposerData(k).uploading};j.prototype.__shouldIgnoreAction=function(k){"use strict";return false};j.prototype.__onPostStarted=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.posting=true;this.emitChange(l)};j.prototype.__onPostPreprocessing=function(k){"use strict";this.__onPostStarted(k)};j.prototype.__onPostSucceeded=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.serverErrorResponse=null;m.posting=false;m.postSucceeded=true;m.publishing=false;this.emitChange(l)};j.prototype.__onPostError=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.serverErrorResponse=k.response;m.posting=false;m.postSucceeded=false;m.publishing=false;this.emitChange(l)};j.prototype.__onPostFinally=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.posting=false;m.publishing=false;this.emitChange(l)};j.prototype.$ReactComposerStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","loggingConfig","activateOnInit"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.ref=n.ref;p.composerVersion=n.composerVersion;p.targetType=n.targetType;p.rankerRequestID=n.rankerRequestID||null;p.orderedSprouts=[];var q=k.sproutsConfig;if(q)for(var r in q)if(q[r].enabled)p.orderedSprouts.push(r);if(o){this.$ReactComposerStore8(m);this.emitChange(m)}};j.prototype.$ReactComposerStore2=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.publishing=true;this.emitChange(l)};j.prototype.$ReactComposerStore6=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.uploading=k.uploading;this.emitChange(l)};j.prototype.$ReactComposerStore3=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED;this.$ReactComposerStore8(l);this.emitChange(l)};j.prototype.$ReactComposerStore4=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED;this.emitChange(l)};j.prototype.$ReactComposerStore5=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").INLINE;this.emitChange(l)};j.prototype.$ReactComposerStore8=function(k){"use strict";var l=this.getComposerData(k);if(!l.isActive){l.isActive=true;c("Bootloader").loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(m,n,o,p){return n.onBeforeUnload(m(o.handler,k,p.getNextURI()))},"ReactComposerStore")}};j.prototype.__cleanup=function(k){"use strict";setTimeout(c("ReactComposerInit").resetComposer.bind(null,k.composerID),0)};f.exports=new j()}),null);
__d("ReactComposerFocusActions",["ReactComposerDispatcher","ReactComposerFocusActionTypes","ReactComposerStore"],(function a(b,c,d,e,f,g){"use strict";c("ReactComposerStore");var h={subscribe:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerFocusActionTypes").SUBSCRIBE,onFocusAcquiredCallback:k,onFocusLostCallback:l})},unsubscribe:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerFocusActionTypes").UNSUBSCRIBE})},notifyFocusAcquired:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerFocusActionTypes").FOCUS_ACQUIRED})},notifyFocusLost:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerFocusActionTypes").FOCUS_LOST})}};f.exports=h}),null);
__d("ExtensibleSproutsItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANIMATED_EFFECTS:"ANIMATED_EFFECTS",BACKDATE:"BACKDATE",BIRTHDAY_CAMERA:"BIRTHDAY_CAMERA",BIRTHDAY_STICKER:"BIRTHDAY_STICKER",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",EVENTS:"EVENTS",FACECAST:"FACECAST",FILE:"FILE",FIND_PLAYERS:"FIND_PLAYERS",FUN_FACT:"FUN_FACT",FUNDRAISER:"FUNDRAISER",GET_BOOKINGS:"GET_BOOKINGS",GET_DIRECTIONS:"GET_DIRECTIONS",GET_MESSAGES:"GET_MESSAGES",GET_PHONE_CALLS:"GET_PHONE_CALLS",GIF:"GIF",INSPIRATION_CAMERA:"INSPIRATION_CAMERA",LIFE_EVENT:"LIFE_EVENT",LIST:"LIST",LOCATION:"LOCATION",MARKDOWN:"MARKDOWN",MEDIA:"MEDIA",MINUTIAE:"MINUTIAE",MOVIES:"MOVIES",NOTE:"NOTE",PAGE_OFFER:"PAGE_OFFER",PHOTO:"PHOTO",PUBLISH_JOB_POST:"PUBLISH_JOB_POST",Q_AND_A:"Q_AND_A",RECOMMENDATION:"RECOMMENDATION",RED_ENVELOPE:"RED_ENVELOPE",SALES_PROMO:"SALES_PROMO",SELL:"SELL",SELL_MULTIPLE_ITEMS:"SELL_MULTIPLE_ITEMS",SPONSOR_TAG:"SPONSOR_TAG",SPOTIFY_SHARE:"SPOTIFY_SHARE",STICKER:"STICKER",SUGGESTED_PHOTO:"SUGGESTED_PHOTO",TAG_EVENT:"TAG_EVENT",TAG_PRODUCT:"TAG_PRODUCT",TEXT_BACKGROUND:"TEXT_BACKGROUND",THREESIXTY_CAPTURE:"THREESIXTY_CAPTURE",TRANSLITERATION:"TRANSLITERATION",VIDEO:"VIDEO",VISUAL_POLLS:"VISUAL_POLLS",WITH_TAG:"WITH_TAG",WRITE_POST:"WRITE_POST",DISCUSSION:"DISCUSSION",MORE:"MORE"})}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT:"event",FILE:"file",ISSUE_TAG:"issue_tag",LINK:"link",MENTION_TAG:"mention_tag",MILESTONE:"milestone",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",TEXT:"text",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",MESSAGING:"messaging",ALBUM:"album",BREAKING_NEWS:"breaking_news"})}),null);
__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALBUM:"album",ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",ALBUM_TAGGER:"album_tagger",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAG_SPROUT:"backdate_tag_sprout",BACKDATE_TAGGER:"backdate_tagger",BREAKING_NEWS:"breaking_news",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu/edit_post",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON:"collections_create_sharing_space_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON:"collections_create_sharing_space_submit_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON:"collections_selector_create_sharing_space_button",CONTACT_YOUR_REPRESENTATIVE_TAGGER:"contact_your_representative_tagger",CONTACT_YOUR_REPRESENTATIVE_SPROUT:"contact_your_representative_sprout",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",DELETE_POST_EDIT_BUTTON:"delete_post_dialog/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",FUNDRAISER_SPROUT:"fundraiser_sprout",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_DROPPED:"file_dropped",FILE_TAB_SELECTOR:"file_tab_selector",FIND_PLAYERS_SPROUT:"find_players_sprout",FUN_FACT:"fun_fact",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",FUN_FACT_SPROUT:"fun_fact_sprout",GAME_TAB_SELECTOR:"game_tab_selector",GROUP_SELECTOR:"group_selector",GROUP_TOPIC_DISCUSSION_SELECTOR:"group_topic_discussion_selector",GROUP_MEET_UP_SELECTOR:"group_meet_up_selector",GROUP_POLL_SPROUT:"group_poll_sprout",INLINE_COMPOSER:"inline_composer",ISSUE_TAGGER:"issue_tagger",LEARNING_COURSE_TAB_SELECTOR:"learning_course_tab_selector",JOB_POST_ATTACHMENT:"job_post_attachment",JOBS_COMPOSER:"jobs_composer",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PAGES_ACTION_BAR_RECOMMEND:"pages_action_bar_recommend",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PROMPT:"prompt",PUBLISHER_ABTEST_HOLDOUT_TAGGER:"publisher_abtest_holdout_tagger",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_TAB_SELECTOR:"recommendations_tab_selector",RECOMMENDATIONS_SPROUT:"recommendations_sprout",RED_ENVELOPE_TAB_SELECTOR:"red_envelope_tab_selector",SALES_PROMO_SPROUT:"sales_promo_sprout",SALES_PROMO_TAB_SELECTOR:"sales_promo_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu/write_post",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",GIF_SPROUT:"gif_sprout",TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE:"tagger_summary_row/contact_your_representative",TAGGER_SUMMARY_LOCATION:"tagger_summary_row/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TAG_EVENT:"tag_event",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",VISUAL_POLL_SPROUT:"visual_poll_sprout",SHARING_SPACES_NEXT_BUTTON:"sharing_spaces_next_button",SHARING_SPACES_CREATE_NEW_ALBUM:"sharing_spaces_create_new_album",SHARING_SPACES_CREATE_NEW_SPACE:"sharing_spaces_create_new_space",OTHERS:"others"})}),null);
__d("ReactComposerLoggingActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingName","ReactComposerMediaUploadActionType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g){var h={composerEntry:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_ENTRY,uiElementName:k})},mediaUploadInputClicked:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:k})},mediaUploadInputDone:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:k})},mediaFileDropped:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_INTENT,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFileDropFinished:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFilePasted:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_INTENT,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_PASTED})},mediaFilePasteFinished:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_PASTED})},sproutVisibilityUpdated:function i(j,k,event,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE,visibilityMap:k,event:event,sproutsState:l})},collectionSelectorCancel:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_CANCEL,featureType:c("ReactComposerFeatureType").COLLECTIONS,uiElementName:k})},collectionSelectorDone:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ReactComposerFeatureType").COLLECTIONS,uiElementName:k})},composerCancel:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_CANCEL})},composerNavigateAwayAttempt:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT})}};f.exports=h}),null);
__d("ReactComposerFocusHandleScrollAway",["Event","getActiveElement","throttle"],(function a(b,c,d,e,f,g){"use strict";var h=-400,i=300,j={handler:function k(l,m){var n=c("Event").listen(window,"scroll",c("throttle")(function(){var o=l.getBoundingClientRect().bottom;if(o<h){m();c("getActiveElement")().blur();n.remove()}},i))}};f.exports=j}),null);
__d("ReactComposerFocusInit",["csx","invariant","DOM","DOMContainer.react","Parent","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={handler:function k(l,m,n,o,p,q,r){var s=c("DOM").create("div"),t=l.parentNode;if(q){var u=c("Parent").bySelector(l,"._3u13");if(u)t=u.parentNode.parentNode}c("ReactDOM").render(c("React").createElement(p,{composerID:m,actorID:n,gks:o,ReactComposerFocusExtraConfigData:r,enableFocusBehavior:true},c("React").createElement(c("DOMContainer.react"),{display:"block"},l)),s);t||i(0);if(t.firstChild)t.replaceChild(s,t.firstChild);else t.appendChild(s)},preload:function k(){}};f.exports=j}),18);
__d("ReactComposerFocusWrapperCore.react",["ix","cssVar","cx","fbt","Arbiter","CurrentUser","DOM","DOMTraverser","Event","Focus","Image.react","Keys","Link.react","React","ReactComponentWithPureRenderMixin","ReactComposerEvents","ReactComposerFocusActions","ReactDOM","Run","ShimButton.react","SubscriptionsHandler","TabbableElements","TabIsolation","URI","fbglyph","isKeyActivation"],(function a(b,c,d,e,f,g,h,i,j,k){var l=c("React").PropTypes,m=parseInt("10px",10),n=c("React").createClass({displayName:"ReactComposerFocusWrapperCore",_composerID:"",_fixedHeight:0,_subscriptions:c("SubscriptionsHandler"),_firstFocus:true,_onLeaveHandle:null,_root:null,_tabIsolation:null,mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{composerID:l.string.isRequired,ariaLabel:l.string,onDismiss:l.func.isRequired,onFocus:l.func.isRequired,focused:l.bool.isRequired,gks:l.object,onFirstFocus:l.func,fixHeight:l.bool},getDefaultProps:function o(){return{focused:false,fixHeight:false}},componentWillMount:function o(){this._composerID=this.props.composerID},componentWillReceiveProps:function o(p){if(this.props.fixHeight&&!this.props.focused&&p.focused){var q=c("ReactDOM").findDOMNode(this.refs.container);this._fixedHeight=q.offsetHeight+m}},componentDidMount:function o(){this._subscriptions=new(c("SubscriptionsHandler"))();this._subscribeComposerEvents();this._onLeaveHandle=c("Run").onLeave(this._onLeave);if(this._root){this._tabIsolation=new(c("TabIsolation"))(this._root);if(this.props.focused)this._tabIsolation.enable()}},componentDidUpdate:function o(p){if(!p.focused&&this.props.focused){try{var q=document.createEvent("HTMLEvents");if(q.initEvent){q.initEvent("resize",true,false);window.dispatchEvent(new(c("Event"))("resize"))}}catch(q){}this._tabIsolation&&this._tabIsolation.enable()}else if(p.focused&&!this.props.focused)this._tabIsolation&&this._tabIsolation.disable()},componentWillUnmount:function o(){this._subscriptions&&this._subscriptions.release();this._onLeave();if(this._onLeaveHandle)this._onLeaveHandle.remove();this._tabIsolation&&this._tabIsolation.disable();this._tabIsolation=null},render:function o(){var p=this.props.fixHeight&&this.props.focused?{height:this._fixedHeight}:null,q=this.props.focused?this._renderDismissButton():null,r=this.props.focused?this._renderBugNub():null,s=this.props.label||k._("Create a post");return c("React").createElement("div",{role:this.props.focused?"dialog":"region","aria-label":s,className:"_3u13 _3e9r"+(this.props.focused?" _3u14":"")+(this.props.focused?" _1b3n":""),ref:function(t){this._root=t}.bind(this),style:p,onKeyDown:this._onKeyDown},c("React").createElement("div",{className:"_3u15",onClick:this._onDismiss,role:"presentation"}),c("React").createElement("div",{className:"_3u16",ref:"container",onFocus:this._onFocus},this.props.children,q),r)},getComposerID:function o(){return this._composerID},getComposer:function o(){return this.refs.container},_renderDismissButton:function o(){return c("React").createElement(c("ShimButton.react"),{className:"_3u17"+(this.props.gks&&this.props.gks.topPostButton?" _nse":"")+(this.props.gks&&this.props.gks.hasHeader?" _356d":"")+(this.props.gks&&this.props.gks.isSproutsComposer?" _3_fz":""),onClick:this._onDismiss,onKeyDown:this._onDismissKeyDown,role:"button","aria-label":k._("Dismiss"),tabIndex:"0"},c("React").createElement(c("Image.react"),{src:h("125922")}))},_renderBugNub:function o(){if(!c("CurrentUser").isEmployee())return null;var p=new(c("URI"))("/ajax/bugs/report");return c("React").createElement("div",{className:"_t95"},c("React").createElement(c("Link.react"),{href:"#",ajaxify:p,className:"_t97",rel:"dialog"}))},_subscribeComposerEvents:function o(){var p=c("Arbiter").subscribe(c("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this._composerID,function(){this.props.onDismiss(true)}.bind(this)),q=c("Arbiter").subscribe(c("ReactComposerEvents").POST_SUCCEEDED+this._composerID,function(){this.props.onDismiss(true)}.bind(this)),r=c("Arbiter").subscribe("ReactFeedComposerXBootloader/focuscomposer/"+this._composerID,function(){return this._onFocus(null)}.bind(this)),s=c("Arbiter").subscribe(c("ReactComposerEvents").COMPOSER_RESET+this._composerID,function(t,u){if(u&&u.newComposerID){this.props.onDismiss();this._composerID=u.newComposerID;this._subscriptions.release();this._subscriptions=new(c("SubscriptionsHandler"))();this._subscribeComposerEvents()}}.bind(this));this._subscriptions.addSubscriptions(p,q,r,s)},_onFocus:function o(p){if(this.props.focused||p&&p.nativeEvent.isPropagationStopped)return;if(this._firstFocus){this.props.onFirstFocus&&this.props.onFirstFocus();this._firstFocus=false}this.props.onFocus();c("ReactComposerFocusActions").notifyFocusAcquired(this.props.composerID)},_onKeyDown:function o(p){if(p.keyCode===c("Keys").ESC&&!p.nativeEvent.isPropagationStopped)this._onDismiss()},_onDismissKeyDown:function o(p){if(c("isKeyActivation")(p))this._onDismiss()},_onDismiss:function o(){this._onLeave();if(this._root&&document.body){var p=c("DOMTraverser").nextFilteredNode(document.body,this._root,function(q){return!c("DOM").contains(this._root,q)&&c("TabbableElements").isTabbable(q)}.bind(this));c("Focus").set(p)}},_onLeave:function o(){this.props.onDismiss();c("ReactComposerFocusActions").notifyFocusLost(this.props.composerID)}});f.exports=n}),18);
__d("ReactComposerFocusInline.react",["Arbiter","React","ReactComposerFocusHandleScrollAway","ReactComposerFocusWrapperCore.react","ReactDOM","ifRequired"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={focused:false},this.$ReactComposerFocusInline2=function(){var q=c("ReactDOM").findDOMNode(this.refs.focus.getComposer());c("ReactComposerFocusHandleScrollAway").handler(q,this.$ReactComposerFocusInline1);c("ifRequired")("ReactComposerActions",function(r){r.expandSprouts(this.$ReactComposerFocusInline3())}.bind(this));c("ifRequired")("ReactComposerGroupPostTagsTaggerActions",function(r){r.setShowState(this.$ReactComposerFocusInline3(),true)}.bind(this));this.setState({focused:true})}.bind(this),this.$ReactComposerFocusInline1=function(){c("Arbiter").inform("ReactComposerFocus/collapse/"+this.$ReactComposerFocusInline3());setTimeout(function(){c("ifRequired")("ReactComposerActions",function(q){q.collapseSprouts(this.$ReactComposerFocusInline3())}.bind(this));c("ifRequired")("ReactComposerGroupPostTagsTaggerActions",function(q){q.setShowState(this.$ReactComposerFocusInline3(),false)}.bind(this));c("ifRequired")("ReactComposerTaggerActions",function(q){c("ifRequired")("ReactComposerLoggingName",function(r){q.deselectCurrentTagger(this.$ReactComposerFocusInline3(),r.INLINE_COMPOSER)}.bind(this))}.bind(this))}.bind(this),0);this.setState({focused:false})}.bind(this),m}k.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerFocusInline1()};k.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerFocusWrapperCore.react"),{composerID:this.props.composerID,focused:this.state.focused&&this.props.enableFocusBehavior,onFocus:this.$ReactComposerFocusInline2,onDismiss:this.$ReactComposerFocusInline1,gks:this.props.gks,ref:"focus"},this.props.children)};k.prototype.$ReactComposerFocusInline3=function(){"use strict";return this.refs.focus&&this.refs.focus.getComposerID()};k.propTypes={composerID:j.string.isRequired,gks:j.object};f.exports=k}),18);
__d("XUFIReactionProfileBrowserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/reaction/profile/browser/",{ft_ent_identifier:{type:"String",required:true}})}),null);
__d("XUFIReactionProfileDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/reaction/profile/dialog/",{reaction_type:{type:"Enum",enumType:0},ft_ent_identifier:{type:"String",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("UFIReactionsProfileBrowserUtils",["ActorURI","XUFIReactionProfileBrowserController","XUFIReactionProfileDialogController"],(function a(b,c,d,e,f,g){var h={getDialogURI:function i(j,k){return c("ActorURI").create(c("XUFIReactionProfileDialogController").getURIBuilder().setString("ft_ent_identifier",j.entidentifier).setEnum("reaction_type",k).getURI(),j.actorforpost)},getPageURI:function i(j){return c("ActorURI").create(c("XUFIReactionProfileBrowserController").getURIBuilder().setString("ft_ent_identifier",j.entidentifier).getURI(),j.actorforpost)}};f.exports=h}),null);
__d("sortReactionTypes",["UFIReactionTypes"],(function a(b,c,d,e,f,g){var h={};c("UFIReactionTypes").ordering.forEach(function(j,k){h[j]=k});function i(j,k){return Object.keys(j).map(function(l){return Number(l)}).sort(function(l,m){if(k&&l===c("UFIReactionTypes").LIKE)return-1;if(j[l]["default"]===j[m]["default"])return h[l]-h[m];return j[m]["default"]-j[l]["default"]})}f.exports=i}),null);
__d("UFIReactionsBlingTokens.react",["cx","fbt","Bootloader","Event","React","ReactDOM","RTLKeys","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","UFIReactionTypes","joinClasses","sortReactionTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=null;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.onFocusIn=function(event){if(!this.refs.tokens.contains(event.target)){this.setState({selectedIndex:-1});if(this.focusInListener){this.focusInListener.remove();this.focusInListener=null}}}.bind(this);this.onFocus=function(event){if(event.target===this.refs.tokens){this.setState({selectedIndex:0});if(!this.focusInListener)this.focusInListener=c("Event").listen(document.documentElement,"focusin",this.onFocusIn)}}.bind(this);this.onKeyDown=function(event){switch(event.keyCode){case c("RTLKeys").RETURN:if(this.focusInListener){this.focusInListener.remove();this.focusInListener=null}break;case c("RTLKeys").TAB:this.setState({selectedIndex:0});break;case c("RTLKeys").getLeft():case c("RTLKeys").getRight():event.preventDefault();this.setState({selectedIndex:Math.max(0,Math.min(this.state.selectedIndex+(event.keyCode===c("RTLKeys").getLeft()?-1:1),this.state.reactionTypes.length-1))});break}}.bind(this);this.renderToken=function(o,p){var q=this.props.feedback,r=i._("{reduced_count} {reaction_type}",[i.param("reduced_count",q.reactioncountmap[o].reduced),i.param("reaction_type",c("UFIReactionTypes").reactions[o].display_name)]),s=c("React").createElement(c("UFIReactionIconImpl.react"),{size:this.props.size,className:"_4-op",reaction:o}),t=c("React").createElement("span",{className:"_3chu"},q.reactioncountmap[o].reduced),u={"aria-label":r,className:"_3emk"+(this.props.size==="13"?" _26lk":""),key:"reactionType-"+o,ref:p};if(this.props.noLinks)return c("React").createElement("span",u,s,t);u=babelHelpers["extends"]({},u,{ajaxify:c("UFIReactionsProfileBrowserUtils").getDialogURI(q,o),href:c("UFIReactionsProfileBrowserUtils").getPageURI(q),rel:"dialog",role:"button",tabIndex:this.state.selectedIndex===p?0:-1});if(l)return c("React").createElement(l,babelHelpers["extends"]({active:this.state.active===o,feedback:q,reaction:o},u),s,t);return c("React").createElement("a",babelHelpers["extends"]({onMouseEnter:this.onMouseEnter.bind(this,o)},u),s,t)}.bind(this);this.state={active:null,selectedIndex:-1,reactionTypes:this.getReactionTypes(n.feedback.reactioncountmap,n.max)}}m.prototype.componentDidUpdate=function(){if(this.state.selectedIndex>-1){var n=c("ReactDOM").findDOMNode(this.refs[this.state.selectedIndex]);if(n)n.focus()}};m.prototype.componentWillReceiveProps=function(n){if(n.feedback.reactioncount!==this.props.feedback.reactioncount)this.setState({active:null});this.setState({reactionTypes:this.getReactionTypes(n.feedback.reactioncountmap,n.max)})};m.prototype.getReactionTypes=function(n,o){var p=c("sortReactionTypes")(n,false).filter(function(q){return c("UFIReactionTypes").reactions[q]&&n[q]["default"]});if(o)p=p.slice(0,o);return p};m.prototype.onMouseEnter=function(n){if(!l)c("Bootloader").loadModules(["UFIReactionsTooltipImpl.react"],function(o){l=o;this.forceUpdate()}.bind(this),"UFIReactionsBlingTokens.react");this.setState({active:n})};m.prototype.render=function(){var n=this.props.noLinks?{}:{onFocus:this.onFocus,onKeyDown:this.onKeyDown,role:"toolbar",tabIndex:this.state.selectedIndex>-1?-1:0};return c("React").createElement("div",{className:c("joinClasses")("_3t53",this.props.className)},c("React").createElement("span",babelHelpers["extends"]({"aria-label":i._("See who reacted to this"),className:"_3t54",ref:"tokens"},n),this.state.reactionTypes.map(this.renderToken,this)),this.props.children)};m.defaultProps={className:null,size:"16"};f.exports=m}),null);
__d("XUFIReactionTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/reaction/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]},reaction_type:{type:"Enum",enumType:0},user_count:{type:"Int"}})}),null);
__d("UFIReactionsFacepile.react",["ix","cx","ActorURI","Bootloader","Image.react","React","TooltipLink.react","UFIConfig","UFIConstants","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController","XUFIReactionTooltipController","fbglyph"],(function a(b,c,d,e,f,g,h,i){var j,k,l=11,m=7,n=32,o="16";j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(q,r){"use strict";k.constructor.call(this,q,r);this.onSentenceClick=function(event){var s=this.props.feedback,t=c("UFIReactionsProfileBrowserUtils").getDialogURI(s).toString();c("Bootloader").loadModules(["AsyncDialog"],function(u){u.bootstrap(t,event.currentTarget,"dialog")},"UFIReactionsFacepile.react");event.preventDefault()}.bind(this)}p.prototype.componentWillMount=function(){"use strict";var q=this.props.context.source,r=c("UFIConstants").UFIFeedbackSourceType.PHOTOS_SNOWLIFT;if(q===r)this.$UFIReactionsFacepile1=m;else this.$UFIReactionsFacepile1=l};p.prototype.$UFIReactionsFacepile2=function(q){"use strict";var r=q.actorforpost,s=q.entidentifier,t=c("UFIConfig").reactionsHasTooltipBreakdown?c("XUFIReactionsSocialSentenceTooltipController"):c("XUFIReactionTooltipController");return{"data-hover":"tooltip","data-tooltip-uri":c("ActorURI").create(t.getURIBuilder().setString("ft_ent_identifier",s).getURI(),r)}};p.prototype.renderFacepile=function(){"use strict";var q=this.props.feedback,r=q.reactors,s=q.reactioncount||0;if(!r)return null;var t=r;if(s>this.$UFIReactionsFacepile1)t=r.slice(0,this.$UFIReactionsFacepile1-1);return t.map(function(u){return c("React").createElement(c("TooltipLink.react"),{href:c("UFIReactionsProfileBrowserUtils").getPageURI(q),key:u.profilepicsrc,onClick:this.onSentenceClick,position:"above",rel:"ignore",tooltip:u.name},c("React").createElement("div",null,c("React").createElement("div",{className:"_44l5"},c("React").createElement(c("Image.react"),{height:n,src:u.profilepicsrc,width:n}),c("React").createElement("div",{className:"_44l6"},c("React").createElement(c("UFIReactionIconImpl.react"),{reaction:u.reaction,size:o})))))}.bind(this))};p.prototype.renderMoreLink=function(){"use strict";var q=this.props.feedback,r=q.reactors,s=q.viewerreaction,t=q.reactioncount||0;if(!r||t<=this.$UFIReactionsFacepile1)return null;var u=r[this.$UFIReactionsFacepile1-1],v=void 0;if(c("UFIConfig").reactionsHasTooltipBreakdown)v=t>1;else v=s?t>3:t>2;var w=null;if(v)w=this.$UFIReactionsFacepile2(q);return c("React").createElement("a",{className:"_44l5 _19sm",href:c("UFIReactionsProfileBrowserUtils").getPageURI(q),onClick:this.onSentenceClick,rel:"ignore"},c("React").createElement("span",babelHelpers["extends"]({},w,{className:"_44l7"}),c("React").createElement("div",{className:"_3vbb"},c("React").createElement(c("Image.react"),{height:n,src:u.profilepicsrc,width:n})),c("React").createElement("div",{className:"_44l8"},c("React").createElement(c("Image.react"),{height:o,src:h("114186"),width:o}))))};p.prototype.render=function(){"use strict";return c("React").createElement("li",{className:"_44l9"},this.renderFacepile(),this.renderMoreLink())};f.exports=p}),null);
__d("ReactionNuxTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"})}),null);
__d("UFIReactionsLinkImpl.react",["cx","fbt","BanzaiLogger","BootloadedComponent.react","Bootloader","Event","JSResource","React","ReactDOM","ReactionNuxTypeEnum","ShimButton.react","SubscriptionsHandler","SutroPhase2GatingConfig","SutroStoryHeaderUFIGatingConfig","UFICommentAction","UFIConfig","UFILikeWebDriverIDs","UFIReactionIconImpl.react","UFIReactionTypes","UFIStoryAction","addFocusEvents","shallowCompare","curry"],(function a(b,c,d,e,f,g,aa,h){var i,j,k=c("React").Component,l=c("React").PropTypes,m=c("UFIConfig").reactionsFunnelLogger,n=c("UFIConfig").reactionsHasCommentFunnelLogger,o=c("UFIConfig").reactionsHasFunnelLogger,p=false,q=false,r=null,s=null,t=null,u=void 0,v=c("React").createElement("div",null),w=150,x=c("UFIConfig").reactionsAnimatedIconsPreloadIntent||"actions_hover",y=c("UFIReactionTypes").reactions,z=Object.keys(y),A=20,B=525,C=750,D=700,E=850,F=500,G="ontouchstart"in window,H=h._("Show More Reactions"),I=h._("New! React to what's happening in different parts of the video"),J=[],K=function K(P){if(!r){var Q=function Q(R){r=R;if(J){J.forEach(function(Q){return Q()});J=null}};if(c("UFIConfig").reactionsHasAnimatedIcons){c("Bootloader").loadModules(["UFIReactionsMenuWithAnimatedIcons.react"],Q,"UFIReactionsLinkImpl.react");if(x==="menu_bootload")M(function(R){return R.load(P)})}else c("Bootloader").loadModules(["UFIReactionsMenuImpl.react"],Q,"UFIReactionsLinkImpl.react")}},L=function L(P){if(!s||!t||!u){var Q=function Q(R,S,T){s=R;t=S;u=T;P()};c("Bootloader").loadModules(["SpatialReactionsProductionStore","SphericalVideoComponentActions","SpatialReactionClickAnimation","SpatialReactionFunnelLoggingStore"],Q,"UFIReactionsLinkImpl.react")}else P()},M=function M(P){if(c("UFIConfig").reactionsAnimatedIconsShouldPreload)c("Bootloader").loadModules(["UFIReactionsAnimationPreloader"],function(Q){return P(new Q().alsoBootloadKeyframes(c("UFIConfig").reactionsAnimatedIconsPreloadKeyframesModule||false))},"UFIReactionsLinkImpl.react")},N=c("addFocusEvents")("a");i=babelHelpers.inherits(O,k);j=i&&i.prototype;function O(P,Q){"use strict";j.constructor.call(this,P,Q);this.$UFIReactionsLink3=function(){if(this.state.dialogShown)this.forceUpdate()}.bind(this);this.hideDialog=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.showDialog=function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();if(!this.state.dialogShown)this.state.logToFunnel&&m.menuShow(this.state.logAsComment);p=true;this.setState({dialogShown:true,NUXShown:false})}.bind(this);this.onClick=function(event){var S,T=this;event.preventDefault();var U=this.props,V=U.reaction,W=U.suggestedReaction;if(!V||V===c("UFIReactionTypes").LIKE||!y[V])(function(){if(!V&&T.props.nuxConfig){var X=T.props.nuxConfig.nuxType;if(X===c("ReactionNuxTypeEnum").LIKE_CLICK||X===c("ReactionNuxTypeEnum").LIKE_CLICK_RENUX)T.maybeShowNUX()}var Y=W&&T.hasSuggestedReaction?W:c("UFIReactionTypes").LIKE;V=V?c("UFIReactionTypes").NONE:Y;var Z=c("curry")(T.onReactionChange,V);T.$UFIReactionsLink4(V,true);if(T.$UFIReactionsLink6())L(function(){if(s&&t){var $=s.getVideoPlayerController(this.props.contextArgs.instanceid);if($&&V===c("UFIReactionTypes").LIKE){t.clickLikeButton($.getVideoPlayerID());event.persist();if(!this.$UFIReactionsLink1)this.$UFIReactionsLink1=new u($,c("UFIReactionTypes").LIKE,Z);this.$UFIReactionsLink1.click(event)}else Z(event)}}.bind(T));else Z(event)})();else this.onReactionChange(0,event);this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.onClickCapture=function(event){event.stopPropagation();this.setState({isLongPressing:false})}.bind(this);this.onContextMenu=function(event){if(this.state.isTouchDown)event.preventDefault()}.bind(this);this.onMouseDown=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onMouseEnter=function(event){clearTimeout(this.hoverTimeout);var S=this.props.comment?D:B;if(!this.state.dialogShown)this.hoverTimeout=setTimeout(function(){this.showDialog();if(this.$UFIReactionsLink6())L(function(){if(s&&t){var T=s.getVideoPlayerController(this.props.contextArgs.instanceid);if(T)t.openReactionMenu(T.getVideoPlayerID())}}.bind(this))}.bind(this),S);K(this.props.supportedReactions);if(!this.state.dialogShown&&this.state.logToFunnel)this.logFunnelTimeout=setTimeout(function(){return m.likeButtonEnter(this.props.reaction,this.state.logAsComment)}.bind(this),w)}.bind(this);this.onMouseLeave=function(event){clearTimeout(this.hoverTimeout);clearTimeout(this.logFunnelTimeout);var S=this.props.comment?E:C;if(this.state.dialogShown)if(this.$UFIReactionsLink6())L(function(){if(s&&s.shouldLeaveReactionMenuOpen())this.$UFIReactionsLink7(this.hideDialog);else this.hoverTimeout=setTimeout(function(){this.hideDialog();if(s&&t){var T=s.getVideoPlayerController(this.props.contextArgs.instanceid);if(T)t.closeReactionMenu(T.getVideoPlayerID())}}.bind(this),S)}.bind(this));else this.hoverTimeout=setTimeout(this.hideDialog,S)}.bind(this);this.onReactionMenuMouseEnter=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onTouchStart=function(event){if(!this.state.dialogShown){this.mouseDownTime=Date.now();this.mouseUpTime=0;this.longPressTimeout=setTimeout(function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();this.setState({dialogShown:true,NUXShown:false,isLongPressing:true})}.bind(this),F);K(this.props.supportedReactions)}this.setState({isTouchDown:true,isLongPressing:false})}.bind(this);this.onTouchEnd=function(event){if(this.state.isLongPressing)this.mouseUpTime=Date.now();this.dragStartX=null;this.dragStartY=null;clearTimeout(this.longPressTimeout);this.setState({isTouchDown:false})}.bind(this);this.onTouchMove=function(event){if(this.state.isScrubbing)return;var S=event.touches[0],T=S.clientX,U=S.clientY;if(this.dragStartX===null&&this.dragStartY===null){this.dragStartX=T;this.dragStartY=U;return}if(typeof this.dragStartX==="number"&&typeof this.dragStartY==="number"&&(this.dragStartX>T+A||this.dragStartX<T-A||this.dragStartY>U+A||this.dragStartY<U-A))this.setState({isScrubbing:true})}.bind(this);this.onReactionChange=function(S,event){var T=arguments.length<=2||arguments[2]===undefined?null:arguments[2],U=arguments.length<=3||arguments[3]===undefined?null:arguments[3];this.$UFIReactionsLink4(S);var V=c("ReactDOM").findDOMNode(this.refs.trigger);if(this.state.logToFunnel)event.target===V?m.likeButtonClick(S,this.state.logAsComment):m.reactionSelection(S,this.state.logAsComment);var W=void 0;if(this.props.comment)W=c("UFICommentAction").changeReaction(this.props.contextArgs,this.props.comment,S,V);else W=c("UFIStoryAction").changeReaction(this.props.contextArgs,S,V,T,U);this.context.dispatch(W);var X=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);if(this.$UFIReactionsLink6())L(function(){if(s)if(s.shouldLeaveReactionMenuOpen())this.$UFIReactionsLink7(function(){X()});else X()}.bind(this));else X()}.bind(this);this.onReactionMouseEnter=function(S,event){if(this.reactionsHoverStartTimeMap[S]===0)this.reactionsHoverStartTimeMap[S]=Date.now()}.bind(this);this.onReactionMouseLeave=function(S,event){if(this.reactionsHoverStartTimeMap[S]){this.reactionsHoverTotalTimeMap[S]+=Date.now()-this.reactionsHoverStartTimeMap[S];this.reactionsHoverStartTimeMap[S]=0}}.bind(this);this.onKeyboardFocus=function(){this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.onScreenReaderTrigger=function(){q=true;this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.dragStartX=null;this.dragStartY=null;this.hasSuggestedReaction=c("UFIConfig").reactionsHasSuggestedReaction;this.subscriptionsHandler=new(c("SubscriptionsHandler"))();if(J)J.push(this.$UFIReactionsLink3);var R=false;if(m&&(o&&this.props.comment===undefined||n&&this.props.comment!==undefined))R=true;this.state={allowAnimationPlayback:false,dialogShown:false,isLongPressing:false,isScrubbing:false,isTouchDown:false,logToFunnel:R,logAsComment:!!this.props.comment&&n,NUXShown:false,shouldBounce:false}}O.prototype.shouldComponentUpdate=function(P,Q){"use strict";return c("shallowCompare")(this,P,Q)};O.prototype.componentWillReceiveProps=function(P){"use strict";this.setState({shouldBounce:!!P.reaction&&P.reaction!==this.props.reaction})};O.prototype.componentWillUpdate=function(P,Q){"use strict";if(this.state.dialogShown&&!Q.dialogShown)this.$UFIReactionsLink4(this.props.reaction)};O.prototype.componentDidUpdate=function(P,Q){var R,S=this;"use strict";if(!Q.dialogShown&&this.state.dialogShown){if(G)(function(){var T=void 0;S.subscriptionsHandler.addSubscriptions(c("Event").listen(document.documentElement,"touchstart",function(event){T=event.touches[0]}),c("Event").listen(document.documentElement,"touchmove",function(event){T=event.touches[0]}),c("Event").listen(document.documentElement,"touchend",function(event){if(T&&!this.refs.root.contains(document.elementFromPoint(T.clientX,T.clientY)))this.setState({dialogShown:false,isScrubbing:false})}.bind(S)))})()}else if(Q.dialogShown&&!this.state.dialogShown){this.subscriptionsHandler.release();this.subscriptionsHandler=new(c("SubscriptionsHandler"))()}};O.prototype.componentDidMount=function(){"use strict";this.$UFIReactionsLink5();if(this.props.nuxConfig){var P=this.props.nuxConfig.nuxType;if(P===c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX)this.maybeShowNUX()}if(c("UFIConfig").reactionsHasAnimatedIcons){c("Bootloader").loadModules(["KeyframesEnvironment","createCancelableFunction"],function(Q,R){if(!this.$UFIReactionsLink2){this.$UFIReactionsLink2=R(function(){this.setState({allowAnimationPlayback:true})}.bind(this));Q.whenRenderLoopHasBeenStableOnce().done(this.$UFIReactionsLink2)}}.bind(this),"UFIReactionsLinkImpl.react");M(function(Q){switch(x){case"link_mount":Q.load(this.props.supportedReactions);break;case"menu_bootload":break;case"actions_hover":Q.registerMouseTrigger(this.refs.root,this.props.supportedReactions);break}}.bind(this))}};O.prototype.componentWillUnmount=function(){"use strict";this.subscriptionsHandler.release();if(J){var P=J.indexOf(this.$UFIReactionsLink3);if(P!==-1)J.splice(P,1)}if(this.$UFIReactionsLink2){this.$UFIReactionsLink2.cancel();this.$UFIReactionsLink2=null}};O.prototype.maybeShowNUX=function(){"use strict";var P=null;if(this.props.nuxConfig)P=this.props.nuxConfig.nuxType;if(!p){p=true;this.setState({NUXShown:true,dialogShown:false});if(P!==c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX)c("BanzaiLogger").log("WebReactionsNuxLoggerConfig",{feedback_id:this.props.contextArgs.ftentidentifier,"interface":"www"})}};O.prototype.onDragStart=function(event){"use strict";event.preventDefault()};O.prototype.renderMenu=function(){"use strict";if(this.state.dialogShown)K(this.props.supportedReactions);if(!r)return null;var P=this.allowKeyboardFocus;this.allowKeyboardFocus=false;return c("React").createElement(r,{allowAnimationPlayback:this.state.allowAnimationPlayback,allowKeyboardFocus:P,initialReaction:this.props.reaction,isLongPressing:this.state.isLongPressing,isScreenReader:q,instanceId:this.props.contextArgs.instanceid,onMouseEnter:this.onReactionMenuMouseEnter,onMouseLeave:this.onMouseLeave,onReactionClick:this.onReactionChange,onBlur:this.hideDialog,onFocus:this.showDialog,onReactionMouseEnter:this.onReactionMouseEnter,onReactionMouseLeave:this.onReactionMouseLeave,shown:this.state.dialogShown,supportedReactions:this.props.supportedReactions,showSpatialReactions:this.$UFIReactionsLink6()})};O.prototype.renderTrigger=function(){"use strict";var P=this.props,Q=P.reaction,R=P.suggestedReaction;if(Q&&!y[Q])Q=null;var S=Q?c("UFILikeWebDriverIDs").UNLIKE_LINK:c("UFILikeWebDriverIDs").LIKE_LINK,T=void 0,U=void 0,V=void 0,W=void 0;if(this.props.comment){S=this.props.comment.parentcommentid?c("UFILikeWebDriverIDs").LIKE_LINK_REPLY:c("UFILikeWebDriverIDs").LIKE_LINK_COMMENT;var X=false;if(!Q)T=y[c("UFIReactionTypes").LIKE].display_name;else{T=y[Q].display_name;W=y[Q].color;X=true}V="UFILikeLink UFIReactionLink"+(X?" UFILinkBright":"")}else{if(!Q)T=R&&this.hasSuggestedReaction?y[R].display_name:y[c("UFIReactionTypes").LIKE].display_name;else T=y[Q].display_name;if(Q&&Q!=c("UFIReactionTypes").LIKE||!Q&&R&&this.hasSuggestedReaction&&R!=c("UFIReactionTypes").LIKE){var Y=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,Z=Y?"18":"13";U=c("React").createElement(c("UFIReactionIconImpl.react"),{className:"_1ktw"+(Y?" _2hoq":""),grayscale:!Q&&!!R,reaction:Q||R,size:Z})}var $=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi_animation;V="UFILikeLink _4x9- _4x9_"+(!U?" _48-k":"")+(Q?" UFILinkBright":"")+(this.state.shouldBounce&&!$?" _3_mo":"")+(this.state.shouldBounce&&$?" _614v":"");W=Q?y[Q].color:null}return c("React").createElement(N,{"aria-pressed":!!Q,className:V,"data-testid":S,href:"#",onClick:this.onClick,onClickCapture:this.state.isLongPressing?this.onClickCapture:null,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onKeyboardFocus:r?null:this.onKeyboardFocus,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchEnd:G?this.onTouchEnd:null,onTouchMove:G?this.onTouchMove:null,onTouchStart:G?this.onTouchStart:null,ref:"trigger",role:"button",style:{color:W},tabIndex:0},U,T)};O.prototype.renderNUX=function(){"use strict";var P=this.refs.root,Q=this.props.comment!==undefined,R=this.props.nuxConfig&&this.props.nuxConfig.nuxType===c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX,S=this.props.nuxConfig&&this.props.nuxConfig.titleOverride,T=this.props.nuxConfig&&this.props.nuxConfig.textOverride;if(!this.state.NUXShown||!P)return null;if(R){S=I;T=null}return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:v,bootloadLoader:c("JSResource")("UFIReactionsNUX.react").__setRef("UFIReactionsLinkImpl.react"),context:P,titleOverride:S,textOverride:T,isCommentReactionNux:Q,isSpatialReactionNux:R,nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey})};O.prototype.renderScreenReaderTrigger=function(){"use strict";if(r)return null;return c("React").createElement(c("ShimButton.react"),{className:"accessible_elem","data-accessibilityid":"virtual_cursor_trigger",inline:true,tabIndex:-1,onClick:this.onScreenReaderTrigger},H)};O.prototype.render=function(){"use strict";var P=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,Q=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("div",{className:"_khz"+(P?" _4sz1":"")+(Q?" _4rw5":"")+(this.state.isScrubbing?" _4bdq":"")+(Q?" _3wv2":""),ref:"root"},this.renderTrigger(),this.renderScreenReaderTrigger(),this.renderMenu(),this.renderNUX())};O.prototype.$UFIReactionsLink5=function(){"use strict";this.dialogShownTime=0;this.reactionsHoverStartTimeMap={};this.reactionsHoverTotalTimeMap={};z.forEach(function(P){this.reactionsHoverStartTimeMap[P]=0;this.reactionsHoverTotalTimeMap[P]=0}.bind(this))};O.prototype.$UFIReactionsLink6=function(){"use strict";return!!this.props.contextArgs.showSpatialReactions&&!this.props.comment};O.prototype.$UFIReactionsLink7=function(P){var Q;"use strict";if(s)(function(){var R=s.addListener(function(){if(s&&!s.shouldLeaveReactionMenuOpen()){R.remove();P()}})})()};O.prototype.$UFIReactionsLink4=function(P,Q){"use strict";if(this.dialogShownTime!==0){var R={feedback_id:this.props.contextArgs.ftentidentifier,final_reaction:P,initial_reaction:this.props.reaction,"interface":"www",long_press_duration:this.mouseDownTime!==0&&this.mouseUpTime!==0?this.mouseUpTime-this.mouseDownTime:0,non_reaction_like:Q,time_spent:Date.now()-this.dialogShownTime};for(var S in this.reactionsHoverTotalTimeMap){var T="time_spent_"+y[S].name.toLowerCase();R[T]=this.reactionsHoverTotalTimeMap[S]}c("BanzaiLogger").log("UserReactionsLoggerConfig",R);this.$UFIReactionsLink5()}};O.contextTypes={dispatch:l.func};f.exports=O}),null);
__d("UFIReactionsSocialSentence.react",["cx","fbt","ActorURI","BanzaiLogger","Bootloader","React","UFIConfig","UFIReactionsBlingTokens.react","UFIReactionsFacepile.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController","XUFIReactionTooltipController"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onSentenceClick=function(event){if(this.props.reactionsLink)return;var r=this.props.feedback,s=c("UFIReactionsProfileBrowserUtils").getDialogURI(r).toString();c("BanzaiLogger").log("WebReactionsBlingLoggerConfig",{feedback_id:this.props.feedback.entidentifier,"interface":"www",action:"click",target_type:"social_sentence"});c("Bootloader").loadModules(["AsyncDialog"],function(t){t.bootstrap(s,event.currentTarget,"dialog")},"UFIReactionsSocialSentence.react");event.preventDefault()}.bind(this),n}l.prototype.$UFIReactionsSocialSentence1=function(m){"use strict";var n=m.actorforpost,o=m.entidentifier,p=c("UFIConfig").reactionsHasTooltipBreakdown?c("XUFIReactionsSocialSentenceTooltipController"):c("XUFIReactionTooltipController");return{"data-hover":"tooltip","data-tooltip-uri":c("ActorURI").create(p.getURIBuilder().setString("ft_ent_identifier",o).getURI(),n)}};l.prototype.render=function(){"use strict";var m=this.props.feedback,n=this.props.contextArgs,o=m.likesentences,p=m.reactors,q=m.reactioncountreduced,r=m.reactionsentences,s=m.showblingbarfeedback,t=m.viewerreaction,u=m.reactioncount||0,v=t?u>3:u>2;if(c("UFIConfig").reactionsHasTooltipBreakdown)v=u>1;var w=null;if(v)w=this.$UFIReactionsSocialSentence1(m);var x=null;if(r&&r.current)x=r.current.text;else if(o&&o.current)x=o.current.text;else x=q;var y=m!==null&&s&&n.isPermalink,z=null;if(x)z=c("React").createElement("span",{className:"_4arz"},c("React").createElement("span",w,x));var A=null,B=null;if(u){if(y&&!z)B=i._("people reacted to this");A=c("React").createElement("span",{"aria-hidden":!!z,className:"_1g5v"},c("React").createElement("span",w,q," ",B))}var C=c("UFIReactionsProfileBrowserUtils").getPageURI(m);if(this.props.reactionsLink)C=this.props.reactionsLink;var D=c("React").createElement("a",{className:"_2x4v",href:C,onClick:this.onSentenceClick,rel:"ignore"},A,z),E=null,F=null;if(y&&p)E=c("React").createElement(c("UFIReactionsFacepile.react"),{feedback:m,context:n});else{var G=c("UFIConfig").reactionsDirectReactTokensModule?c("UFIConfig").reactionsDirectReactTokensModule:c("UFIReactionsBlingTokens.react");F=c("React").createElement(G,{className:"_4ar- _ipn",contextArgs:n,showCounts:c("UFIConfig").reactionsHasDirectReactTokensCounts,feedback:m,max:3},D)}return c("React").createElement("div",{className:"_1vaq"},E,c("React").createElement("div",{className:"_ipp"},y?D:F))};f.exports=l}),null);
__d("VideoFeedFastPreloadController",["Run","DOMQuery"],(function a(b,c,d,e,f,g){var h=0,i={preload:function j(k){if(h<2){k=c("DOMQuery").scry(k,"video")[0];if(k instanceof b.HTMLVideoElement){if(!h)c("Run").onBeforeUnload(function(){return i.reset()});k.preload="auto";h+=1}}},reset:function j(){h=0}};i.reset();f.exports=i}),null);
__d("PriorityJobQueue",["Promise","Map"],(function a(b,c,d,e,f,g){"use strict";var h=1;function i(j){this.$PriorityJobQueue2=new(c("Map"))();this.$PriorityJobQueue3=new(c("Map"))();this.$PriorityJobQueue4=false;this.$PriorityJobQueue5=new(c("Map"))();this.$PriorityJobQueue8=function(){var k=this.$PriorityJobQueue3.size,l=Date.now();if(k<this.$PriorityJobQueue1){var m=this.$PriorityJobQueue1-k,n=Array.from(this.$PriorityJobQueue2.values());n.sort(function(q,r){return r.job.getPriority(l-r.timeQueued)-q.job.getPriority(l-q.timeQueued)});var o=this.$PriorityJobQueue2.size;for(var p=0;p<Math.min(o,m);p++)this.$PriorityJobQueue9(n[p])}this.$PriorityJobQueue4=false}.bind(this);this.$PriorityJobQueue1=j||h}i.prototype.$PriorityJobQueue6=function(j){this.$PriorityJobQueue3["delete"](j);this.$PriorityJobQueue7()};i.prototype.$PriorityJobQueue7=function(){if(!this.$PriorityJobQueue4){this.$PriorityJobQueue4=true;c("Promise").resolve().then(this.$PriorityJobQueue8).done()}};i.prototype.$PriorityJobQueue9=function(j){var k=j.job,l=k.getJobID();this.$PriorityJobQueue2["delete"](l);this.$PriorityJobQueue3.set(l,j);k.getPromise().then(function(){return this.$PriorityJobQueue6(l)}.bind(this))["catch"]();var m=this.$PriorityJobQueue5.get(l);m&&m();this.$PriorityJobQueue5["delete"](l);k.start()};i.prototype.enqueue=function(j,k){var l={job:j,timeQueued:Date.now()},m=j.getJobID();this.$PriorityJobQueue2.set(m,l);if(k)this.$PriorityJobQueue5.set(m,k);this.$PriorityJobQueue7();return this};i.prototype.abort=function(j){this.$PriorityJobQueue2["delete"](j);var k=this.$PriorityJobQueue3.get(j);if(k){k.job.abort();this.$PriorityJobQueue3["delete"](j);this.$PriorityJobQueue7()}};i.get=function(){if(!i.$PriorityJobQueue10)i.$PriorityJobQueue10=new i(h);return i.$PriorityJobQueue10};f.exports=i}),null);
__d("VideoAkamaiRequestHelper",["URI"],(function a(b,c,d,e,f,g){"use strict";function h(k){return k.toLowerCase().indexOf("akamai")!==-1}function i(k){var l=k.startByte,m=k.endByte;if(l!=undefined&&!(l===0&&m==undefined)){var n="bytes="+l+"-"+(m==undefined?"":m);return{Range:n}}return null}function j(k){var l=new(c("URI"))(k),m=l.getQueryData(),n=m.startByte,o=m.endByte;return i({baseUrl:k,startByte:n,endByte:o})}f.exports={isAkamai:h,getRequestHeaders:i,getRequestHeadersFromUrl:j}}),null);
__d("VideoPlayerResourceTimer",["VideoPlayerShakaExperiments"],(function a(b,c,d,e,f,g){"use strict";var h={getResourceTimingEntry:function i(j,k,l){var m;if(performance.getEntriesByType){var m=function(){var n=performance.getEntriesByName(j,"resource"),o=[];n.forEach(function(p){if(typeof p.responseEnd==="number"&&typeof p.responseStart==="number"&&typeof p.requestStart==="number"&&typeof p.connectEnd==="number"&&typeof p.connectStart==="number"&&typeof p.domainLookupEnd==="number"&&typeof p.domainLookupStart==="number"&&typeof p.transferSize==="number"&&p.responseEnd<=l&&p.startTime>=k&&(!c("VideoPlayerShakaExperiments").ignoreInvalidTimingEntries||p.responseStart>0&&p.responseEnd>0))o.push({entry:{timeToFirstByte:p.responseStart-p.startTime,timeToLastByte:p.responseEnd-p.startTime,timeToRequestStart:p.requestStart-p.startTime,timeToConectionEnd:p.connectEnd-p.startTime,timeToConnectionStart:p.connectStart-p.startTime,timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,timeToDomainLookupStart:p.domainLookupStart-p.startTime,transferSize:p.transferSize,startTime:p.startTime},sort:p.responseEnd})});o.sort(function(p,q){return q.sort-p.sort});if(o.length)return{v:o[0].entry}}();if(typeof m==="object")return m.v}return null}};f.exports=h}),null);
__d("VideoPlayerShakaError",[],(function a(b,c,d,e,f,g){"use strict";var h={translateError:function i(j,k,l){var m={name:j.errorType,message:j.errorMsg,type:l,url:k,xhr:{status:j.errorCode}};return m}};f.exports=h}),null);
__d("VideoDashPrefetchCache",["Promise","regeneratorRuntime","Deferred","Map","PriorityJobQueue","Run","URI","VideoAkamaiRequestHelper","VideoPlayerResourceTimer","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaError","VideoPlayerShakaExperiments","XHRRequest","getCrossOriginTransport","performanceNow"],(function a(b,c,d,e,f,g){var h=window.Promise||c("Promise");c("Promise").resolve();function i(s){var t="aborted",u={status:0},v=new Error("Prefetch request aborted.");return Object.assign(v,{type:t,url:s,xhr:u})}function j(s){var t,u=s.getURI(),v=u.toString();if(c("VideoAkamaiRequestHelper").isAkamai(v))(function(){var w=c("VideoAkamaiRequestHelper").getRequestHeadersFromUrl(v),x=u.removeQueryData(["bytestart","byteend"]);s.setURI(x);if(w)Object.keys(w).forEach(function(y){s.setRequestHeader(y,w[y])})})();return s}var k=null;function l(s){var t=new(c("URI"))(s),u=t.getDomain();return u.endsWith("fbcdn.net")&&!u.startsWith("interncache")&&!u.endsWith("ak.fbcdn.net")}function m(s){var t=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return t&&l(s)?c("getCrossOriginTransport").withCredentials:c("getCrossOriginTransport")}function n(s){return l(s.url)}function o(s,t,u){return{response:s.slice(t.start+0,t.end+1),responseTime:u}}function p(s,t,u){"use strict";this.$UrlRequestJob1=s;this.$UrlRequestJob2=t;this.$UrlRequestJob5=u;var v=new(c("XHRRequest"))(this.$UrlRequestJob2).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(m(t));j(v);this.$UrlRequestJob3=new h(function(w,x){v.setErrorHandler(function(y){x(c("VideoPlayerShakaError").translateError(y,this.$UrlRequestJob2,"preload"))}.bind(this));v.setResponseHandler(function(y){v.response=y;w(v)});v.setAbortHandler(function(){if(c("VideoPlayerShakaExperiments").fixPrefetchCacheAbort){var y=i(t);x(y)}else x(this.$UrlRequestJob3,new Error("Request promise aborted"))}.bind(this))}.bind(this));this.$UrlRequestJob4=v}p.prototype.getUrl=function(){"use strict";return this.$UrlRequestJob2};p.prototype.getPromise=function(){"use strict";return this.$UrlRequestJob3};p.prototype.start=function(){"use strict";this.$UrlRequestJob4.send()};p.prototype.abort=function(){"use strict";this.$UrlRequestJob4.abort()};p.prototype.getPriority=function(s){"use strict";return 1/Math.min(this.$UrlRequestJob5,1)/Math.min(s,1)};p.prototype.getJobID=function(){"use strict";return this.$UrlRequestJob1};function q(s){var t=new(c("URI"))(s);if(t.getDomain()){t=t.removeQueryData(["oh"]);t=t.removeQueryData("__gda__");for(var u=Object.keys(t.getQueryData()),v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(v){if(w>=u.length)break;x=u[w++]}else{w=u.next();if(w.done)break;x=w.value}var y=x;if(y.startsWith("_nc"))t=t.removeQueryData(y)}return t.toString()}return s}function r(){"use strict";this.$VideoDashPrefetchCache2=new(c("Map"))();this.$VideoDashPrefetchCache1=new(c("Map"))();this.$VideoDashPrefetchCache3=new(c("Map"))();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache7=c("VideoPlayerShakaExperiments").maxPrefetchVideosNum;this.$VideoDashPrefetchCache8=c("VideoPlayerShakaExperiments").consolidateFragmentedPrefetchRequest}r.prototype.$VideoDashPrefetchCache9=function(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],u=arguments.length<=2||arguments[2]===undefined?0:arguments[2],v=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var w=s;if(Object.keys(t))w=new(c("URI"))(s).addQueryData(t).toString();var x=new(c("XHRRequest"))(w).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(m(w,v));j(x);var y=c("performanceNow")();this.$VideoDashPrefetchCache2["delete"](s);var z=new h(function(A,B){x.setErrorHandler(function(C){this.$VideoDashPrefetchCache10(x);B(c("VideoPlayerShakaError").translateError(C,w,"preload"))}.bind(this));x.setResponseHandler(function(C){if(c("VideoPlayerShakaExperiments").enableResourceTimingForPrefetchCache){var D=c("VideoPlayerResourceTimer").getResourceTimingEntry(s,y,c("performanceNow")());if(D)this.$VideoDashPrefetchCache2.set(q(s),D)}x.response=C;this.$VideoDashPrefetchCache10(x);A(x)}.bind(this));x.setAbortHandler(function(){if(c("VideoPlayerShakaExperiments").fixPrefetchCacheAbort){this.$VideoDashPrefetchCache10(x);var C=i(s);B(C)}else B(z,new Error("Request promise aborted"))}.bind(this))}.bind(this));this.$VideoDashPrefetchCache11(s,z,u);this.$VideoDashPrefetchCache4.push(x);x.send();return z};r.prototype.$VideoDashPrefetchCache11=function(s,t){var u=arguments.length<=2||arguments[2]===undefined?36e5:arguments[2];"use strict";this.$VideoDashPrefetchCache12(s);if(u>0)this.$VideoDashPrefetchCache3.set(q(s),setTimeout(function(){return this.$VideoDashPrefetchCache12(s)}.bind(this),u));this.$VideoDashPrefetchCache13(s,t)};r.prototype.genPrfetchMpdNow=function s(t,u,v){var w,x;return c("regeneratorRuntime").async(function y(z){while(1)switch(z.prev=z.next){case 0:"use strict";if(!this.has(u)){z.next=3;break}return z.abrupt("return",null);case 3:w=v.getURL();x=new p(t,w,0);this.$VideoDashPrefetchCache11(u,x.getPromise());x.start();z.next=9;return c("regeneratorRuntime").awrap(x.getPromise());case 9:return z.abrupt("return",null);case 10:case"end":return z.stop()}},null,this)};r.prototype.queueRequestFromMouseMovement=function(s,t,u,v,w){var x=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],y=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6];"use strict";var z=c("PriorityJobQueue").get(),A=this.$VideoDashPrefetchCache14(t);if(A){A.then(y).done();return}var B=u.getURL(),C=new p(s,B,v);C.getPromise().then(y)["catch"](function(){return this.getAndDelete(t)}.bind(this));z.enqueue(C,function(){this.$VideoDashPrefetchCache11(t,C.getPromise(),w);x()}.bind(this))};r.prototype.cancelRequestFromMouseMovement=function(s){"use strict";c("PriorityJobQueue").get().abort(s)};r.prototype.$VideoDashPrefetchCache12=function(s,t){"use strict";this.getAndDelete(s,t);if(this.$VideoDashPrefetchCache3.has(s)){clearTimeout(this.$VideoDashPrefetchCache3.get(s));this.$VideoDashPrefetchCache3["delete"](s)}};r.prototype.$VideoDashPrefetchCache15=function(s){var t=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";var u=[];for(var v=0;v<s.length;v++){var w=r.createQueryStringURL(s[v]);if(!this.has(w))u.push(this.$VideoDashPrefetchCache9(w,undefined,undefined,t))}return u};r.prototype.$VideoDashPrefetchCache16=function(s){"use strict";var t=r.getConsolidatedURL(s);if(t==null)return this.$VideoDashPrefetchCache15(s);var u=new(c("XHRRequest"))(t).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(m(t));j(u);var v=Date.now(),w=[];for(var x=0;x<s.length;x++){var y=r.createQueryStringURL(s[x]),z=new(c("Deferred"))();if(!this.has(y))this.$VideoDashPrefetchCache13(y,z.getPromise());w.push(z)}u.setErrorHandler(function(A){this.$VideoDashPrefetchCache10(u);for(var x=0;x<w.length;x++)w[x].reject(c("VideoPlayerShakaError").translateError(A,t,"preload"))}.bind(this));u.setResponseHandler(function(A){var B=Date.now()-v;for(var x=0;x<s.length;x++){var C=w[x],D=s[x];C.resolve(o(A,D,B))}this.$VideoDashPrefetchCache10(u)}.bind(this));u.setAbortHandler(function(){for(var x=0;x<s.length;x++){var A=w[x];A.reject(new Error("Request aborted."))}});this.$VideoDashPrefetchCache4.push(u);u.send();return w.map(function(A){return A.getPromise()})};r.prototype.$VideoDashPrefetchCache17=function(s){"use strict";var t=s.useCredentials;this.$VideoDashPrefetchCache6++;var u=this.$VideoDashPrefetchCache8&&!t,v=u?this.$VideoDashPrefetchCache16(s.video):this.$VideoDashPrefetchCache15(s.video,t),w=u?this.$VideoDashPrefetchCache16(s.audio):this.$VideoDashPrefetchCache15(s.audio,t),x=this.$VideoDashPrefetchCache15(s.manifest,t),y=v.concat(w,x);h.all(y).then(function(){return this.$VideoDashPrefetchCache18()}.bind(this))["catch"](function(){return this.$VideoDashPrefetchCache18()}.bind(this))};r.prototype.$VideoDashPrefetchCache13=function(s,t){"use strict";s=q(s);if(this.$VideoDashPrefetchCache1.values().next().done)c("Run").onLeave(function(){for(var u=0;u<this.$VideoDashPrefetchCache4.length;u++)this.$VideoDashPrefetchCache4[u].abort();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache1.clear()}.bind(this));this.$VideoDashPrefetchCache1.set(s,t)};r.prototype.$VideoDashPrefetchCache10=function(s){"use strict";var t=this.$VideoDashPrefetchCache4.indexOf(s);if(t>-1)this.$VideoDashPrefetchCache4.splice(t,1)};r.prototype.$VideoDashPrefetchCache18=function(){"use strict";this.$VideoDashPrefetchCache6--;var s=this.$VideoDashPrefetchCache5.shift();if(s)this.$VideoDashPrefetchCache17(s)};r.prototype.has=function(s){"use strict";s=q(s);return this.$VideoDashPrefetchCache1.has(s)};r.prototype.getAndDelete=function(s,t){"use strict";s=q(s);var u=this.$VideoDashPrefetchCache1.get(s);if(u&&t){var v=this.$VideoDashPrefetchCache2.get(s);t(v)}this.$VideoDashPrefetchCache1["delete"](s);return u};r.prototype.$VideoDashPrefetchCache14=function(s){"use strict";s=q(s);var t=this.$VideoDashPrefetchCache1.get(s);return t};r.prototype.queueRequestBatch=function(s){"use strict";if(this.$VideoDashPrefetchCache7===0||this.$VideoDashPrefetchCache6<this.$VideoDashPrefetchCache7)this.$VideoDashPrefetchCache17(s);else this.$VideoDashPrefetchCache5.push(s)};r.getInstance=function(){"use strict";if(k===null)k=new r();return k};r.createQueryStringURL=function(s){"use strict";var t=s.url,u=s.start,v=s.end;if(u!==null&&u!==undefined&&v!==null&&v!==undefined)t=new(c("URI"))(t).addQueryData({bytestart:u,byteend:v});return t.toString()};r.getConsolidatedURL=function(s){"use strict";var t="",u=Infinity,v=0;for(var w=0;w<s.length;w++){var x=s[w],y=x.url,z=x.start,A=x.end;if(y==null||z==null||A==null)return null;if(t==="")t=y;else if(t!==y)return null;u=Math.min(u,z);v=Math.max(v,A)}return r.createQueryStringURL({url:t,start:u,end:v})};r.loadVideo=function(s,t){"use strict";t=!!t;if(c("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained())return;if(c("VideoPlayerShakaExperiments").disablePrefetchCache)return;var u=r.getInstance();if(!s.manifest)s.manifest=[];u.queueRequestBatch({manifest:s.manifest.filter(n),video:s.video.filter(n),audio:s.audio.filter(n),useCredentials:t})};r.getCacheValue=function(s,t){"use strict";return r.getInstance().getAndDelete(s,t)};r.hasCacheValue=function(s){"use strict";return r.getInstance().has(s)};f.exports=r}),null);
__d("onViewportChanged",["EventListener","emptyFunction","getViewportDimensions","requestAnimationFrame"],(function a(b,c,d,e,f,g){var h=[],i=false,j=null,k=void 0,l=void 0;function m(){var x=c("getViewportDimensions").withoutScrollbars();return{top:0,bottom:x.height,left:0,right:x.width}}function n(x,y){var z={transform:y||c("emptyFunction").thatReturnsArgument,callback:x,needsUpdate:true};h.push(z);u();p();return{remove:o.bind(null,z),scheduleCheck:s.bind(null,z)}}function o(x){var y=h.indexOf(x);if(y!==-1){h.splice(y,1);if(h.length===0){q();j=null}}}function p(){if(!l){l=c("EventListener").listen(window,"scroll",t);k=c("EventListener").listen(window,"resize",r)}}function q(){if(l){l.remove();k.remove();l=k=null}}function r(){j=null;t()}function s(x){x.needsUpdate=true;u()}function t(){h.map(function(x){return x.needsUpdate=true});u()}function u(){if(!i){i=true;c("requestAnimationFrame")(function(){i=false;w()})}}function v(x){if(x.needsUpdate){x.needsUpdate=false;return true}return false}function w(){if(!j)j=m();var x=h.filter(v),y=x.map(function(z){return z.transform.call(null,j)});x.forEach(function(z,A){return z.callback.call(null,y[A])})}f.exports=n}),null);
__d("onRectIsWithinViewport",["onViewportChanged"],(function a(b,c,d,e,f,g){function h(j,k){return!(j.bottom<k.top||j.top>k.bottom||j.right<k.left||j.left>k.right)}function i(j,k){var l=void 0;function m(o){var p=j();return!!p&&h(p,o)}function n(o){if(l!==o){l=o;k(o)}}return c("onViewportChanged")(n,m)}f.exports=i}),null);
/**
 * License: https://www.facebook.com/legal/license/uGmcar5GMrO/
 */
__d("IntersectionObserverFallback",["TimeSlice","performanceNow","setInterval","throttle"],(function a(b,c,d,e,f,g){"use strict";var h=document.documentElement,i=[];function j(n,o){var p=Math.max(n.top,o.top),q=Math.min(n.bottom,o.bottom),r=Math.max(n.left,o.left),s=Math.min(n.right,o.right),t=s-r,u=q-p;return t>=0&&u>=0?{top:p,bottom:q,left:r,right:s,width:t,height:u}:undefined}function k(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(n){this.time=n.time;this.target=n.target;this.rootBounds=n.rootBounds;this.boundingClientRect=n.boundingClientRect;this.intersectionRect=n.intersectionRect||k();this.isIntersecting=!!n.intersectionRect;var o=this.boundingClientRect,p=o.width*o.height,q=this.intersectionRect.width*this.intersectionRect.height;this.intersectionRatio=p?q/p:0}function m(n,o){this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$IntersectionObserverFallback12=c("TimeSlice").guard(c("throttle")(function(){var s=this.$IntersectionObserverFallback14(),t=s?this.$IntersectionObserverFallback15():k();this.$IntersectionObserverFallback6.forEach(function(u){var v=u.element,w=v.getBoundingClientRect(),x=this.$IntersectionObserverFallback16(v),y=u.entry,z=s&&x&&!this.$IntersectionObserverFallback2&&this.$IntersectionObserverFallback17(v,t),A=u.entry=new l({time:c("performanceNow")(),target:v,boundingClientRect:w,rootBounds:t,intersectionRect:z});if(s&&x){if(this.$IntersectionObserverFallback18(y,A))this.$IntersectionObserverFallback7.push(A)}else if(y&&y.isIntersecting)this.$IntersectionObserverFallback7.push(A)}.bind(this));if(this.$IntersectionObserverFallback7.length)this.$IntersectionObserverFallback1(this.takeRecords(),this)}.bind(this),this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$IntersectionObserverFallback2=false;try{var p=window.top.document}catch(q){this.$IntersectionObserverFallback2=true}var r=o||{};this.$IntersectionObserverFallback1=n;this.$IntersectionObserverFallback4=false;this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback7=[];this.$IntersectionObserverFallback8=this.$IntersectionObserverFallback9(r.rootMargin);this.thresholds=this.$IntersectionObserverFallback10(r.threshold);this.root=r.root||null;this.rootMargin=this.$IntersectionObserverFallback8.map(function(s){return s.value+s.unit}).join(" ")}m.prototype.$IntersectionObserverFallback10=function(n){var o=n||[0];return o.sort().filter(function(p,q,r){return p!==r[q-1]})};m.prototype.$IntersectionObserverFallback9=function(n){var o=n||"0px",p=o.split(/\s+/).map(function(q){var r=/^(-?\d*\.?\d+)(px|%)$/.exec(q);return{value:parseFloat(r[1]),unit:r[2]}});p[1]=p[1]||p[0];p[2]=p[2]||p[0];p[3]=p[3]||p[1];return p};m.prototype.$IntersectionObserverFallback11=function(){if(!this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=true;this.$IntersectionObserverFallback12();if(this.POLL_INTERVAL)this.$IntersectionObserverFallback5=c("setInterval")(this.$IntersectionObserverFallback12,this.POLL_INTERVAL);else{window.addEventListener("resize",this.$IntersectionObserverFallback12);document.addEventListener("scroll",this.$IntersectionObserverFallback12);if("MutationObserver"in window){this.$IntersectionObserverFallback3=new MutationObserver(this.$IntersectionObserverFallback12);this.$IntersectionObserverFallback3.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}}}};m.prototype.$IntersectionObserverFallback13=function(){if(this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=false;if(this.$IntersectionObserverFallback5){clearInterval(this.$IntersectionObserverFallback5);this.$IntersectionObserverFallback5=undefined}window.removeEventListener("resize",this.$IntersectionObserverFallback12);document.removeEventListener("scroll",this.$IntersectionObserverFallback12);if(this.$IntersectionObserverFallback3){this.$IntersectionObserverFallback3.disconnect();this.$IntersectionObserverFallback3=undefined}}};m.prototype.$IntersectionObserverFallback17=function(n,o){if(window.getComputedStyle(n).display=="none")return undefined;var p=n.getBoundingClientRect(),q=p,r=n.parentElement,s=false;while(!s){var t=null;if(r==this.root||r&&r.nodeType!=1){s=true;t=o}else if(window.getComputedStyle(r).overflow!="visible")t=r&&r.getBoundingClientRect();if(t){q=j(t,q);if(!q)break}r=r&&r.parentElement}return q};m.prototype.$IntersectionObserverFallback15=function(){var n=void 0;if(this.root)n=this.root.getBoundingClientRect();else{var o=document.documentElement,p=document.body,q=o&&o.clientWidth||p&&p.clientWidth,r=o&&o.clientHeight||p&&p.clientHeight;n={top:0,left:0,right:q,width:q,bottom:r,height:r}}return this.$IntersectionObserverFallback19(n)};m.prototype.$IntersectionObserverFallback19=function(n){var o=this.$IntersectionObserverFallback8.map(function(q,r){return q.unit=="px"?q.value:q.value*(r%2?n.width:n.height)/100}),p={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};p.width=p.right-p.left;p.height=p.bottom-p.top;return p};m.prototype.$IntersectionObserverFallback18=function(n,o){var p=n&&n.isIntersecting?n.intersectionRatio||0:-1,q=o.isIntersecting?o.intersectionRatio||0:-1;if(p===q)return false;for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==p||s==q||s<p!==s<q)return true}return false};m.prototype.$IntersectionObserverFallback14=function(){return!this.root||h!==null&&h.contains(this.root)};m.prototype.$IntersectionObserverFallback16=function(n){var o=this.root||h;return o!==null&&o.contains(n)};m.prototype.$IntersectionObserverFallback20=function(){if(i.indexOf(this)<0)i.push(this)};m.prototype.$IntersectionObserverFallback21=function(){var n=i.indexOf(this);if(n!=-1)i.splice(n,1)};m.prototype.observe=function(n){if(this.$IntersectionObserverFallback6.some(function(o){return o.element==n}))return;this.$IntersectionObserverFallback20();this.$IntersectionObserverFallback6.push({element:n,entry:null});this.$IntersectionObserverFallback11()};m.prototype.unobserve=function(n){this.$IntersectionObserverFallback6=this.$IntersectionObserverFallback6.filter(function(o){return o.element!=n});if(!this.$IntersectionObserverFallback6.length){this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()}};m.prototype.disconnect=function(){this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()};m.prototype.takeRecords=function(){var n=this.$IntersectionObserverFallback7.slice();this.$IntersectionObserverFallback7=[];return n};f.exports=m}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function a(b,c,d,e,f,g){"use strict";var h="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;f.exports=h?window.IntersectionObserver:c("IntersectionObserverFallback")}),null);
__d("OnVisible.react",["IntersectionObserver","React","ReactDOM","WebSpeedJSExperiments","getElementRect","onRectIsWithinViewport"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"OnVisible",propTypes:{onVisible:h.func,onHidden:h.func,buffer:h.number},componentDidMount:function j(){this._create()},componentDidUpdate:function j(){this._create()},componentWillUnmount:function j(){this._remove()},reset:function j(){this._remove();this._create()},check:function j(){if(this._listener)this._listener.scheduleCheck()},_create:function j(){if(c("WebSpeedJSExperiments").i10s_io_on_visible)this._createObserver();else this._createListener()},_remove:function j(){if(c("WebSpeedJSExperiments").i10s_io_on_visible)this._removeObserver();else this._removeListener()},_measureElementRect:function j(){if(!this.isMounted())return null;var k=this.props.buffer||0,l=c("ReactDOM").findDOMNode(this),m=c("getElementRect")(l);if(m.left===0&&m.right===0&&m.top===0&&m.bottom===0)return null;m.left-=k;m.right+=k;m.top-=k;m.bottom+=k;return m},_createListener:function j(){var k=c("ReactDOM").findDOMNode(this);if(this._listener&&k!==this._element)this._removeListener();if(!this._listener){this._element=k;this._listener=c("onRectIsWithinViewport")(this._measureElementRect,function(l){var m=l?this.props.onVisible:this.props.onHidden;m&&m()}.bind(this))}},_removeListener:function j(){if(this._listener){this._listener.remove();this._listener=null}},_createObserver:function j(){var k=c("ReactDOM").findDOMNode(this);if(this._observer&&k!==this._element)this._removeObserver();if(!this._observer){var l={rootMargin:this.props.buffer?this.props.buffer+"px":"0px"};this._element=k;this._observer=new(c("IntersectionObserver"))(function(m){m.forEach(function(n){if(n.target===this._element){var o=n.intersectionRatio>0?this.props.onVisible:this.props.onHidden;o&&o()}}.bind(this))}.bind(this),l);this._observer.observe(k)}},_removeObserver:function j(){if(this._observer){this._observer.unobserve(this._element);this._observer.disconnect();this._observer=undefined}},render:function j(){return c("React").Children.only(this.props.children)}});f.exports=i}),null);
__d("PagesCalloutActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REGISTER_CALLOUT:"register_callout",INIT_SURFACE:"init_surface",SHOW_CALLOUT:"show_callout",DISMISS_CALLOUT:"dismiss_callout"})}),null);
__d("ReactComposerAttachmentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MLE:"MLE",NOTES:"NOTES",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",VISUAL_POLL:"VISUAL_POLL",SELL:"SELL",WORK_HEADER:"WORK_HEADER",RED_ENVELOPE:"RED_ENVELOPE",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",PLACE_LIST:"PLACE_LIST",QUIZ:"QUIZ",TASK:"TASK",ADD_MENTIONED:"ADD_MENTIONED",AUDIENCE_SELECTOR:"AUDIENCE_SELECTOR",LEARNING_COURSE:"LEARNING_COURSE",PAGE_RECOMMENDATION:"PAGE_RECOMMENDATION",TOPIC_DISCUSSION:"TOPIC_DISCUSSION",GROUP_MEET_UP:"GROUP_MEET_UP",EMPLOYEE_QUESTION_SUGGESTIONS:"EMPLOYEE_QUESTION_SUGGESTIONS",POST_TO_GROUP:"POST_TO_GROUP",MEDIA_EFFECT_SHARE:"MEDIA_EFFECT_SHARE",FIND_PLAYERS:"FIND_PLAYERS",SALES_PROMO:"SALES_PROMO",JOB_SEARCH:"JOB_SEARCH",SHARING_SPACES_SELECTOR:"SHARING_SPACES_SELECTOR"})}),null);
__d("BaseGraphQLSubscription",["Banzai","BanzaiLogger","ChannelClientID","CurrentLocale","CurrentUser","GraphQLSubscriptionsConfig","RTISubscriptionGate","URI"],(function a(b,c,d,e,f,g){var h=1e4,i={subscribe:function j(k,l){var m={transformContext:JSON.stringify(this._getTransformContext(k))},n=this._getQueryParameters(k);this._logEvent("client_subscribe",n);return c("RTISubscriptionGate").subscribe(this._getTopic(k),function(o){this._logEvent("receivepayload",n);l(JSON.parse(o.payload))}.bind(this),m,null,function(){this._logEvent("client_unsubscribe",n)}.bind(this))},subscribeWithIcebreaker_EXPERIMENTAL:function j(k,l,m){var n=new(c("URI"))("https://streaming-graph.facebook.com/gqls_bore");n.setQueryData({access_token:m});var o=this._getTopic(k),p={topic:o,locale:c("CurrentLocale").get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))};n.addQueryData(p);var q=new EventSource(n.toString(),{withCredentials:true});q.addEventListener("message",function(r){l(JSON.parse(JSON.parse(r.data).payload))},false);return{getContext:function r(){return p},unsubscribe:function r(){return q.close()}}},_getTransformContext:function j(k){var l=155160167952447;return{viewerID:c("CurrentUser").getID(),appID:l,locale:c("CurrentLocale").get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))}},_logEvent:function j(k,l){if(c("Banzai").isEnabled("gqls_web_logging")){var m=c("GraphQLSubscriptionsConfig").shouldAlwaysLog?1:h;if(Math.random()*m<1)c("BanzaiLogger").log("GraphQLSubscriptionsLoggerConfig",{clienttime:Date.now()/1e3,client_sample_weight:m,event:k,mechanism:"skywalker",query_id:parseInt(this._getQueryID(),10),query_params:l,session_id:c("ChannelClientID").getID(),subscription_call:this._getSubscriptionCallName()})}}};f.exports=i}),null);
__d("ContentTranslationStrings",["fbt","TranslationRating"],(function a(b,c,d,e,f,g,h){var i={SEE_TRANSLATION:h._("See translation"),SEE_TRANSLATION_TIP:h._("Translate this comment"),NO_TRANSLATION_AVAILABLE:h._("No translation available"),AUTOMATICALLY_TRANSLATED:h._("Automatically translated"),HIDE_ORIGINAL:h._("Hide original"),SEE_ORIGINAL:h._("See original"),SEE_ORIGINAL_LINK:h._("See original"),UNDO:h._("Undo"),CANCEL:h._("Cancel"),SUBMIT:h._("Submit"),DONE:h._("Done"),CLOSE:h._("Close"),SEARCH:h._("Search"),ENTER_TRANSLATION:h._("Type your translation here"),EDIT_TRANSLATION_THANKS:h._("Thank you! Your feedback helps us improve our translation quality."),EDIT_TRANSLATION_DIALOG_TITLE_ERROR:h._("Submission unsuccessful"),EDIT_TRANSLATION_MENU:h._("I have a better translation"),RATE_TRANSLATION:h._("Rate this translation"),I_DONT_KNOW:h._("I don't know"),NO_MATCHING_LANGUAGES:h._("No matching languages"),LANGUAGE_SETTINGS:h._("Language settings"),CLICK_TO_RATE:h._("Click a star to rate"),TAP_TO_RATE:h._("Tap a star to rate"),ORIGINAL_TEXT:h._("Original text:"),YOUR_TRANSLATION:h._("Your translation:"),SETTINGS_SAVED:h._("Language settings saved successfully."),REPORT_LANGUAGE_THANKS:h._("Thank you for letting us know about this error. Your feedback improves translation for everyone on Facebook."),LANGUAGE_SETTINGS_REMINDER:h._("You can change this at any time in your language settings."),CROWDSOURCING_TARGET_DIALECT_DIALOG:h._("Settings"),TRANSLATE_ALL_TEXT:h._("Translate all comments"),NUM_TRANSLATIONS_TEXT:h._("translations"),getTranslatedFromTo:function j(k,l){return h._("Translated from {source language} to {target language}",[h.param("source language",k),h.param("target language",l)])},getTranslatedFrom:function j(k){return h._("Translated from {source language}",[h.param("source language",k)])},getReportLanguageDialogBody:function j(k){return h._("Are you sure that this post wasn't in {language}?",[h.param("language",k)])},getReportLanguage:function j(k){return h._("Post was not in {language}",[h.param("language",k)])},getReportLanguageSelector:function j(k){return h._("This post was actually in: {language selector}",[h.param("language selector",k)])},getNeverTranslate:function j(k){return h._("Never translate {language}",[h.param("language",k)])},getNeverTranslateDialog:function j(k){return h._("Are you sure? Posts in {language} won't be translated for you.",[h.param("language",k)])},getDisableAutoTranslate:function j(k){return h._("Disable automatic translation for {dialect}",[h.param("dialect",k)])},getDisableAutoTranslateDialog:function j(k){return h._("Are you sure? Posts in {dialect} won't be automatically translated for you.",[h.param("dialect",k)])},getUserFeedbackTitleForScore:function j(k){switch(k){case c("TranslationRating").VERY_BAD:return h._("Very bad.");case c("TranslationRating").BAD:return h._("Bad.");case c("TranslationRating").OK:return h._("OK.");case c("TranslationRating").GOOD:return h._("Good.");case c("TranslationRating").VERY_GOOD:return h._("Very good.");default:return null}},getUserFeedbackDescriptionForScore:function j(k){switch(k){case c("TranslationRating").VERY_BAD:return h._("I can't understand anything.");case c("TranslationRating").BAD:return h._("I can't understand most of this.");case c("TranslationRating").OK:return h._("I can understand enough of this.");case c("TranslationRating").GOOD:return h._("I can understand most of this.");case c("TranslationRating").VERY_GOOD:return h._("I can understand everything.");default:return null}}};f.exports=i}),null);
__d("WebGraphQLSubscriptionHelper",[],(function a(b,c,d,e,f,g){"use strict";f.exports={getExports:function h(i){var j=i.docID,k=i.queryID;return{getDocID:function l(){return j},getLegacyQueryID:function l(){return k}}}}}),null);