if (self.CavalryLogger) { CavalryLogger.start_js(["s2FSd"]); }

__d("NotifType",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",OPEN_GRAPH_ACTION_LIKE:"open_graph_action_like",LIKE_TAGGED:"like_tagged",PAGE_FAN:"page_fan",IG_MEDIA_LIKE:"ig_media_like",FEEDBACK_REACTION_GENERIC:"feedback_reaction_generic",FEEDBACK_REACTION_GENERIC_TAGGED:"feedback_reaction_generic_tagged",MESSENGER_REACTIONS:"messenger_reactions",MARKETPLACE_RECEIVED_RATING:"marketplace_received_rating",MARKETPLACE_RECEIVED_RATING_COMPLETED:"marketplace_received_rating_completed"}}),null);
__d("NotificationBucketDataCache",["WebStorage"],(function a(b,c,d,e,f,g){var h=c("WebStorage").getLocalStorage,i=c("WebStorage").setItemGuarded,j=h(),k="notification_buckets",l=2,m=function m(t,u){var v=t.toLowerCase()+":"+u;return k+"_"+l+":"+v},n=function n(t,u){return o(t,u)||q()},o=function o(t,u){try{var v=j?j.getItem(m(t,u)):null;if(v)return JSON.parse(v)}catch(w){}return null},p=function p(t,u,v){if(j)i(j,m(t,u),JSON.stringify(v))},q=function q(){return{firstSeenTime:-1,firstReadTime:-1}},r=function r(t){return t.cache_id},s={getFirstSeenTime:function t(u,v){return n(u,r(v)).firstSeenTime},getFirstReadTime:function t(u,v){return n(u,r(v)).firstReadTime},setFirstSeenTime:function t(u,v,w){var x=r(v),y=n(u,x);if(y.firstSeenTime!==-1)return;p(u,x,babelHelpers["extends"]({},y,{firstSeenTime:w}))},setFirstReadTime:function t(u,v,w){var x=r(v),y=n(u,x);if(y.firstReadTime!==-1)return;p(u,x,babelHelpers["extends"]({},y,{firstReadTime:w}))},resetSeenAndReadState:function t(u,v){var w=q();u.forEach(function(x){var y=r(v),z=o(x,y);if(z)p(x,y,w)})}};f.exports=s}),null);
__d("NotificationBucketUtils",["JSResource","WebStorage"],(function a(b,c,d,e,f,g){"use strict";var h=false,i=void 0,j={isClientSupported:function k(){if(h===false){h=true;i=c("WebStorage").getLocalStorage()!==null}return!!i},getCustomModuleForType:function k(l){switch(l){case"TICKER":return c("JSResource")("NotificationBucketTicker.react").__setRef("NotificationBucketUtils");default:return null}}};f.exports=j}),null);
__d("NotificationGenericBucket",["NotificationBucketDataCache","NotificationSeenState"],(function a(b,c,d,e,f,g){"use strict";function h(i){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={};this.$NotificationGenericBucket7=function(j,k){var l=this.$NotificationGenericBucket4[j],m=this.$NotificationGenericBucket4[k];return Number(m)-Number(l)}.bind(this);this.$NotificationGenericBucket1=i}h.prototype.reset=function(){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={}};h.prototype.getType=function(){return this.$NotificationGenericBucket1.bucket_type};h.prototype.getTitle=function(){return this.$NotificationGenericBucket1.title};h.prototype.getSortedIDs=function(){return this.$NotificationGenericBucket2.slice()};h.prototype.insertIfEligible=function(i){if(!this.$NotificationGenericBucket5(i))return false;return this.$NotificationGenericBucket6(i)};h.prototype.remove=function(i){if(!this.$NotificationGenericBucket3[i])return false;delete this.$NotificationGenericBucket3[i];delete this.$NotificationGenericBucket4[i];var j=this.$NotificationGenericBucket2.indexOf(i);j>-1&&this.$NotificationGenericBucket2.splice(j,1);return true};h.prototype.$NotificationGenericBucket6=function(i){var j=i.alert_id;if(this.$NotificationGenericBucket3[j])return true;this.$NotificationGenericBucket2.push(j);this.$NotificationGenericBucket3[j]=true;var k=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sort_key_index);if(k>-1){var l=i.sort_keys?i.sort_keys[k]:null;if(l){this.$NotificationGenericBucket4[j]=l;this.$NotificationGenericBucket9()}}return true};h.prototype.$NotificationGenericBucket9=function(){this.$NotificationGenericBucket2.sort(this.$NotificationGenericBucket7)};h.prototype.$NotificationGenericBucket5=function(i){return this.$NotificationGenericBucket10(i)&&this.$NotificationGenericBucket11(i)&&this.$NotificationGenericBucket12(i)&&this.$NotificationGenericBucket13(i)&&this.$NotificationGenericBucket14(i)&&this.$NotificationGenericBucket15(i)};h.prototype.$NotificationGenericBucket8=function(i){return Number.isInteger(i)?Number(i):-1};h.prototype.$NotificationGenericBucket10=function(i){if(!i.eligible_buckets)return false;return i.eligible_buckets.includes(this.getType())};h.prototype.$NotificationGenericBucket12=function(i){return c("NotificationSeenState").validateFilter(i.alert_id,this.$NotificationGenericBucket1.seen_filter)};h.prototype.$NotificationGenericBucket11=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.min_to_expire);return j===-1?true:Date.now()-i.creation_time<j*60*1e3};h.prototype.$NotificationGenericBucket13=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.max_count);return j===-1?true:this.$NotificationGenericBucket2.length<j};h.prototype.$NotificationGenericBucket14=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_seen),k=i.first_seen_time;if(k===undefined){k=c("NotificationBucketDataCache").getFirstSeenTime(this.getType(),i);if(k!==-1)k/=1e3}return j===-1||k===-1||k===0?true:Date.now()/1e3-k<j};h.prototype.$NotificationGenericBucket15=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_read),k=i.first_read_time;if(k===undefined){k=c("NotificationBucketDataCache").getFirstReadTime(this.getType(),i);if(k!==-1)k/=1e3}return j===-1||k===-1||k===0?true:Date.now()/1e3-k<j};h.prototype.$NotificationGenericBucket16=function(i){return true};f.exports=h}),null);
__d("NotificationBucketStore",["Arbiter","JSLogger","NotificationBucketDataCache","NotificationBucketUtils","NotificationConstants","NotificationGenericBucket","NotificationsBucketList","NotificationsDefaultEndpointURI","NotificationSeenState","NotificationStore","NotificationUpdates"],(function a(b,c,d,e,f,g){"use strict";var h=c("NotificationConstants").PayloadSourceType,i=[],j={},k={},l=[],m=false,n=function n(){if(m)return;m=true;c("NotificationsBucketList").buckets.forEach(function(B){B.bucket_type=B.bucket_type.toUpperCase();var C=new(c("NotificationGenericBucket"))(B);i.push(C);j[C.getType()]=C});y()},o=function o(){l=i.map(function(B){return{ids:B.getSortedIDs(),title:B.getTitle()||"",bucketType:B.getType()}})},p=function p(B){for(var C=0,D=i.length;C<D;C++){var E=i[C];if(E.insertIfEligible(B)){q(B,E);return E.getType()}}return null},q=function q(B,C){k[B.alert_id]=C.getType();if(B.first_seen_time!==undefined)return;c("NotificationBucketDataCache").setFirstSeenTime(C.getType(),B,Date.now())},r=function r(B,C){delete k[B.alert_id]},s=function s(B){var C=k[B];if(!C)return;var D=c("NotificationStore").getNotification(B);if(!D||D.first_read_time!==undefined)return;c("NotificationBucketDataCache").setFirstReadTime(C,D,Date.now())},t=function t(B){var C=k[B];if(!C)return;var D=c("NotificationStore").getNotification(B);if(!D||D.first_seen_time!==undefined)return;c("NotificationBucketDataCache").setFirstSeenTime(C,D,Date.now())},u=function u(B){var C=B.alert_id;if(!c("NotificationSeenState").isSeen(C))c("NotificationBucketDataCache").resetSeenAndReadState(i.map(function(F){return F.getType()}),B);var D=v(C);if(D){var E=w(D);if(E){E.remove(C);r(B,E)}}p(B)},v=function v(B){return k[B]},w=function w(B){return j[B]},x=function x(){k={};i.forEach(function(B){return B.reset()});o()},y=function y(){var B=c("NotificationStore").getAll({endpointURI:c("NotificationsDefaultEndpointURI")});z(Object.keys(B).map(function(C){return B[C]}))},z=function z(B){B.forEach(u);o()};if(c("NotificationBucketUtils").isClientSupported()){c("NotificationUpdates").subscribe("update-notifications",function(B,C){if(!C.nodes||C.nodes.length===0)return;if(C.payloadsource===h.LIVE_SEND){x();y()}else if(C.nodes)z(C.nodes)});c("NotificationUpdates").subscribe("read-state-updated",function(B,C){if(C.updates)Object.keys(C.updates).forEach(function(D){if(c("NotificationSeenState").isRead(D))s(D)})});c("NotificationUpdates").subscribe("seen-state-updated",function(B,C){if(C.updates)Object.keys(C.updates).forEach(function(D){if(c("NotificationSeenState").isSeen(D))t(D)})});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(B,C){C.notifs_bucket_data=l});n()}var A={getBucketListData:function B(){return l},isEmptyBucketListData:function B(){var C=l.reduce(function(D,E){return D+E.ids.length},0);return C===0}};f.exports=A}),null);
__d("NotificationHiddenState",["NotificationConstants","NotificationUpdates","isEmpty"],(function a(b,c,d,e,f,g){var h={};c("NotificationUpdates").subscribe("update-notifications",function(j,k){var l,m=k.nodes,n=k.payloadsource;if(n===c("NotificationConstants").PayloadSourceType.LIVE_SEND&&m&&m.length)(function(){var o={};m.forEach(function(p){var q=p.alert_id;if(h[q])o[q]=false});if(!c("isEmpty")(o)){h=Object.assign(h,o);c("NotificationUpdates").didUpdateHiddenState(Object.keys(o))}})()});c("NotificationUpdates").subscribe("update-hidden",function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c("NotificationUpdates").didUpdateHiddenState(Object.keys(l))}});var i={isHidden:function j(k){if(h[k])return h[k];return false}};f.exports=i}),null);
__d("NotificationTracking",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw},_getTrackingInfo:function k(l,m){var n=""+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n]},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking)}catch(o){n=o}if(m===null||n!==null||typeof m!=="object")h(0);return m},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!="undefined"&&typeof m==="number")return babelHelpers["extends"]({},n,{row:m});return n}};f.exports=j}),null);
__d("NotificationAttachment.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c("React").createElement("span",null);return c("React").createElement(c("Image.react"),{src:l.uri,className:"_42td","aria-hidden":true})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("NotificationFooter.react",["cx","BizSiteIdentifier.brands","Image.react","ImageBlock.react","React","Timestamp.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("BizSiteIdentifier.brands").isBizSite();i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.$NotificationFooter1=function(){var m=this.props,n=m.shortenTimestamp,o=m.timestamp;return c("React").createElement("span",{key:"timestamp"},c("React").createElement(c("Timestamp.react"),babelHelpers["extends"]({className:"_33g",shorten:n},o)))};l.prototype.render=function(){var m=this.props,n=m.icon,o=m.metadata,p=[this.$NotificationFooter1()];if(o)p=[c("React").createElement("span",{key:"metadata"},o),c("React").createElement("span",{key:"dot"}," \xb7 ")].concat(p);var q="_33f"+(k?" _2g48":"");if(!n)return c("React").createElement("div",{className:q},p);return c("React").createElement(c("ImageBlock.react"),{className:q},c("React").createElement(c("Image.react"),{className:"_10cu",src:n.uri}),c("React").createElement("div",null,p))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("NotificationClassification",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONVERSATIONS:"conversations",FAVORITE_GROUP:"favorite_group",MULTI_COMPANY_GROUPS:"multi_company_groups"})}),null);
__d("NotificationVPVs",["MarauderLogger","Set","getElementRect"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("Set"))();function i(o){if(j(o))return;c("MarauderLogger").log("notifications_vpv",undefined,null,"notification",o);h.add(o)}function j(o){return h.has(o)}function k(){h.clear()}function l(o,p){if(!o||!p)return false;return!(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right)}function m(o){var p=c("getElementRect")(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n}),null);
__d("NotificationList.react",["invariant","Arbiter","FunnelLogger","NotificationBucketStore","NotificationClassification","NotificationConstants","NotificationHiddenState","NotificationJewelFunnelLoggingConstants","NotificationListConfig","NotificationsDefaultEndpointURI","NotificationSeenState","NotificationStore","NotificationUpdates","NotificationUserActions","NotificationVPVs","NotifType","QE2Logger","React","SubscriptionsHandler","getObjectValues","isEmpty","mapObject"],(function a(b,c,d,e,f,g,h){var i,j,k=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,l=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,m=c("React").PropTypes,n=c("NotificationConstants").PayloadSourceType.LIVE_SEND,o="notification_clicked";function p(r){return{classification:r.classification,endpointURI:r.endpoint!=null?r.endpoint:c("NotificationsDefaultEndpointURI"),filter:r.filter}}i=babelHelpers.inherits(q,c("React").Component);j=i&&i.prototype;function q(r){var s;"use strict";for(var t=arguments.length,u=Array(t>1?t-1:0),v=1;v<t;v++)u[v-1]=arguments[v];(s=j.constructor).call.apply(s,[this,r].concat(u));this.$NotificationList1={};this.$NotificationList2=false;this.$NotificationList3=new(c("SubscriptionsHandler"))();this.$NotificationList4=0;this.$NotificationList9=function(){var y={};Object.keys(this.$NotificationList1).forEach(function(z){var A=c("NotificationHiddenState").isHidden(z);if(A!=this.state.hiddenState[z])y[z]=A}.bind(this));if(!c("isEmpty")(y))this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,y)});this.$NotificationList1={};this.$NotificationList8(c("NotificationStore").getCount(p(this.props)))}.bind(this);this.$NotificationList11=function(y,z,A){if(this.state.currentlyFetching||!this.state.canFetchMore)return;if(y){c("FunnelLogger").appendAction(k,l.FETCH_NEXT_SET);this.$NotificationList10()}this.$NotificationList12(z,A)}.bind(this);this.$NotificationList13=function(){this.setState({showingChevron:true})}.bind(this);this.$NotificationList14=function(){this.setState({showingChevron:false})}.bind(this);this.$NotificationList17=function(y){c("Arbiter").inform(o,{endpointConfig:p(this.props),alertID:y})}.bind(this);this.$NotificationList18=function(y){if(this.props.paused&&this.props.filter==="unread"){var z=babelHelpers["extends"]({},this.state.readWhilePausedOrNavigating);z[y]=true;this.setState({readWhilePausedOrNavigating:z})}}.bind(this);this.$NotificationList19=function(y){this.$NotificationList4=y}.bind(this);var w=p(r);c("NotificationStore").registerEndpoint(w);var x=c("NotificationStore").getAll(w);this.state={currentlyFetching:false,canFetchMore:c("NotificationStore").canFetchMore(w),notifs:x,hiddenState:c("mapObject")(x,function(y,z){return c("NotificationHiddenState").isHidden(z)}),readState:c("mapObject")(x,function(y,z){return c("NotificationSeenState").isRead(z)}),showingChevron:false,readWhilePausedOrNavigating:{}}}q.prototype.componentWillMount=function(){"use strict";c("FunnelLogger").appendAction(k,l.FETCH_NOTIFICATIONS);this.$NotificationList3.addSubscriptions(c("NotificationUpdates").subscribe("notifications-updated",function(r,s){if(s.source==n&&!c("isEmpty")(s.updates)){this.$NotificationList2=true;var t=this.props.paused;if(t){c("QE2Logger").logExposureForUser("www_notifications_paused_update_universe");if(!c("NotificationListConfig").updateWhenPaused){this.$NotificationList1=babelHelpers["extends"]({},this.$NotificationList1,s.updates);return}}}this.$NotificationList5(c("NotificationStore").getAll(p(this.props)))}.bind(this)),c("NotificationUpdates").subscribe(["hidden-state-updated","read-state-updated"],function(r,s){if(r=="hidden-state-updated"){if(s.source!==n||!this.props.paused){var t=c("mapObject")(s.updates,function(v,w){return c("NotificationHiddenState").isHidden(w)});this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,t)})}}else{var u=c("mapObject")(s.updates,function(v,w){return c("NotificationSeenState").isRead(w)});this.setState({readState:babelHelpers["extends"]({},this.state.readState,u)})}}.bind(this)))};q.prototype.componentWillUnmount=function(){"use strict";this.$NotificationList3.release()};q.prototype.componentWillReceiveProps=function(r){"use strict";if(!this.$NotificationList6(r)&&r.paused)return;if(this.props.enableHubView&&this.props.filter==="unread")return;this.setState({readWhilePausedOrNavigating:{}})};q.prototype.$NotificationList6=function(r){"use strict";return r.filter!==this.props.filter||r.classification!==this.props.classification};q.prototype.$NotificationList7=function(r){"use strict";var s=Object.keys(this.state.notifs),t=Object.keys(r).filter(function(v){return!this.state.notifs[v]}.bind(this));s=s.concat(t);var u={};s.forEach(function(v){if(this.$NotificationList1[v]){if(this.state.notifs[v])u[v]=this.state.notifs[v]}else u[v]=r[v]||this.state.notifs[v]}.bind(this));return u};q.prototype.$NotificationList5=function(r){"use strict";var s=c("isEmpty")(this.$NotificationList1)?r:this.$NotificationList7(r),t={},u={};c("getObjectValues")(s).forEach(function(w){var x=w.alert_id;t[x]=c("NotificationSeenState").isRead(x);u[x]=c("NotificationHiddenState").isHidden(x)});var v=p(this.props);this.setState({notifs:s,canFetchMore:c("NotificationStore").canFetchMore(v)||c("NotificationStore").getCount(v)!==Object.keys(s).length,readState:babelHelpers["extends"]({},this.state.readState,t),hiddenState:babelHelpers["extends"]({},this.state.hiddenState,u)})};q.prototype.$NotificationList8=function(r){"use strict";this.setState({currentlyFetching:true});this.$NotificationList3.addSubscriptions(c("NotificationStore").getNotifications(r,p(this.props),function(s){this.setState({currentlyFetching:false});this.$NotificationList5(s)}.bind(this)))};q.prototype.$NotificationList10=function(){"use strict";if(!this.state.currentlyFetching){var r=Object.keys(this.state.notifs).length;this.$NotificationList8(r+this.props.numPerPage)}};q.prototype.$NotificationList12=function(r,s){"use strict";if(!r||!s)return;for(var t=0,u=r.children.length;t<u;t++){var v=r.children[t];if(v){var w=v.getAttribute("data-alert-id");if(w&&!c("NotificationVPVs").hasLoggedImpression(w)){var x=c("NotificationVPVs").getValidatedRectangle(v);if(x&&c("NotificationVPVs").areRectsOverlapping(s,x))c("NotificationVPVs").logImpression(w)}}}};q.prototype.$NotificationList15=function(r){"use strict";if(c("NotificationListConfig").requestFullViewportOfNotificationsOnFirstOpen){var s=Math.max(this.props.numPerPage,Math.ceil(this.$NotificationList4)),t=s-r.length;if(t>0)this.$NotificationList8(t)}else if(r.length>this.props.numPerPage)this.$NotificationList8(r.length);else this.$NotificationList10()};q.prototype.$NotificationList16=function(r){"use strict";var s=c("NotificationSeenState").getUnseenIDs();if(!c("isEmpty")(this.$NotificationList1))s=s.filter(function(t){return!this.$NotificationList1[t]}.bind(this));if(s.length&&(this.props.paused||this.props.enableHubView))c("NotificationUserActions").markNotificationsAsSeen(s);if(this.props.hasEverBeenOpened)if(!r||!r.hasEverBeenOpened)this.$NotificationList15(s)};q.isReaction=function(r){"use strict";return r===c("NotifType").LIKE||r===c("NotifType").OPEN_GRAPH_ACTION_LIKE||r===c("NotifType").LIKE_TAGGED||r===c("NotifType").PAGE_FAN||r===c("NotifType").IG_MEDIA_LIKE||r===c("NotifType").FEEDBACK_REACTION_GENERIC||r===c("NotifType").FEEDBACK_REACTION_GENERIC_TAGGED||r===c("NotifType").MESSENGER_REACTIONS};q.prototype.componentDidUpdate=function(r){var s,t=this,u;"use strict";this.$NotificationList16(r);if(r.paused&&!this.props.paused){var s=function(){t.$NotificationList2=false;var v=setTimeout(t.$NotificationList9,0);t.$NotificationList3.addSubscriptions({remove:function w(){clearTimeout(v)}});return{v:void 0}}();if(typeof s==="object")return s.v}if(this.props.paused&&this.$NotificationList6(r)){var u=function(){var v=setTimeout(t.$NotificationList9,0);t.$NotificationList3.addSubscriptions({remove:function w(){clearTimeout(v)}});return{v:void 0}}();if(typeof u==="object")return u.v}};q.prototype.componentDidMount=function(){"use strict";this.$NotificationList16()};q.prototype.render=function(){var r;"use strict";var s=this.props.listRenderer,t=this.state,u=t.notifs,v=t.readState,w=t.readWhilePausedOrNavigating,x={};if(this.props.filter==null)x=u;else Object.keys(u).forEach(function(z){var A=u[z],B=A.alert_id,C=v[B];if(this.props.filter==="unread")C=!C||Object.prototype.hasOwnProperty.call(w,B);if(C)x[B]=A}.bind(this));if(this.props.hideReactions)(function(){var z={};Object.keys(x).forEach(function(A){var B=u[A];if(!q.isReaction(B.notif_type))z[B.alert_id]=B});x=z})();if(this.props.classification)Object.keys(u).forEach(function(z){var A=u[z];this.props.classification||h(0);if(!A.classifications||!A.classifications.includes(this.props.classification))delete x[A.alert_id]}.bind(this));var y=!c("NotificationBucketStore").isEmptyBucketListData()?c("NotificationBucketStore").getBucketListData():null;return c("React").createElement(s,{paused:this.props.paused,tracking:this.props.tracking,shortenTimestamp:this.props.shortenTimestamp,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,buckets:y,notifs:x,afterScroll:this.$NotificationList11,onChevronShow:this.$NotificationList13,onChevronHide:this.$NotificationList14,currentlyFetching:this.state.currentlyFetching,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList2,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableMarkUnread:this.props.enableMarkUnread,onClick:this.$NotificationList17,onRead:this.$NotificationList18,onNumNotificationsViewableChange:this.$NotificationList19})};q.propTypes={hasEverBeenOpened:m.bool,enableHubView:m.bool,enableMarkUnread:m.bool,maxHeight:m.number,paused:m.bool,tracking:m.string,useChevron:m.bool,chevronType:m.string,numPerPage:m.number.isRequired,listRenderer:m.func.isRequired,upsell:m.object,endpoint:m.string,filter:m.string,classification:m.oneOf(c("getObjectValues")(c("NotificationClassification")))};f.exports=q}),null);
__d("NotificationListDelightUtils",["RelationshipDelightUtils"],(function a(b,c,d,e,f,g){"use strict";var h=-1,i={canShowHeartDelight:function j(k,l,m){if(l)return false;if(!c("RelationshipDelightUtils").shouldHeartNotification(k))return false;if(h<0||h>m)h=m;return true},getFirstDelightRow:function j(){return h}};f.exports=i}),null);
__d("NotificationListDelights.react",["cx","BootloadedComponent.react","JSResource","NotificationListDelightUtils","NotificationSeenState","React","RelationshipDelightUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=-1;function j(k){var l=k.rowIndex,m=k.notification,n=m.alert_id,o=c("NotificationListDelightUtils").getFirstDelightRow()===l&&!c("NotificationSeenState").isSeen(n)?1:2;c("RelationshipDelightUtils").logNotificationAnimation(n,o,l);return c("React").createElement("div",{className:"_3u5l _3u5m"},c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationListDelights.react"),animationPhase:o}))}f.exports=j}),null);
__d("NotificationListItemChevron.react",["cx","AbstractPopoverButton.react","Banzai","BanzaiLogger","NotificationTokens","NotifTestIDs","PopoverMenu.react","QE2Logger","React","ReactXUIMenu","idx","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("ReactXUIMenu").Item;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2("close")}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();if(this.props.logMenuExposure)c("QE2Logger").logExposureForUser("pages_growth_optout_button");this.$NotificationListItemChevron2("open");var r={notif_type:this.props.notif_type};c("Banzai").post("notif_chevron_on_click",r)}.bind(this),n}l.prototype.$NotificationListItemChevron2=function(m){var n={event:m,notif_type:this.props.notif_type,notif_id:parseInt(c("NotificationTokens").untokenizeIDs([this.props.alert_id])[0],10)};c("BanzaiLogger").log("NotifJewelMenuLoggerConfig",n)};l.prototype.$NotificationListItemChevron4=function(){var m=this.props.notificationOptions,n=m&&m.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement(k,{onclick:function(){return this.props.onMenuOptionClick(o)}.bind(this),key:t+":"+s},c("React").createElement("div",{className:"_18qh"},r))}.bind(this)).filter(function(o){return o!=null});if(n==null||n.length===0)return null;return c("React").createElement(c("ReactXUIMenu"),null,n)};l.prototype.render=function(){var m=this.$NotificationListItemChevron4();if(!m)return null;var n={button:c("React").createElement("a",{href:"#","aria-label":"Notification options",className:"_1_0d"})},o=c("React").createElement(c("PopoverMenu.react"),{"data-testid":c("NotifTestIDs").CHEVRON,alignh:"right",menu:m,className:c("joinClasses")(this.props.className,"_1_0c"),disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c("React").createElement(c("AbstractPopoverButton.react"),{config:n,haschevron:false,image:null,label:null}));return o};f.exports=l}),null);
__d("NotificationThumbnail.react",["Image.react","React","RoundImage.react","SutroGatingConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("SutroGatingConfig").avatar;function i(j){if(h.has_rounded_avatars)return c("React").createElement(c("RoundImage.react"),j);else return c("React").createElement(c("Image.react"),j)}f.exports=i}),null);
__d("NotificationListItemContents.react",["cx","ix","BizSiteIdentifier.brands","FlexibleBlock.react","ImageBlock.react","NotificationAttachment.react","NotificationFooter.react","NotificationInterpolator","NotificationThumbnail.react","React","TextWithEntities.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("BizSiteIdentifier.brands").isBizSite(),m=i("97000");j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.$NotificationListItemContents1=function(){var o=this.props.notification.title;if(!o)return null;return c("React").createElement(c("TextWithEntities.react"),babelHelpers["extends"]({interpolator:c("NotificationInterpolator")},o,{renderEmoji:true,renderEmoticons:true}))};n.prototype.render=function(){var o=this.$NotificationListItemContents1(),p=this.props,q=p.hideIcon,r=p.isNotifsPage,s=p.noPhotoPreviews,t=p.shortenTimestamp,u=p.notification,v=u.icon,w=u.previewImage,x=u.thumbnail,y=u.timestamp,z=c("React").createElement(c("NotificationFooter.react"),{icon:q?null:v,shortenTimestamp:t,timestamp:y});return c("React").createElement(c("ImageBlock.react"),null,c("React").createElement(c("NotificationThumbnail.react"),{alt:"",className:(!r?"_62bh":"")+(r?" _62bi":""),src:x&&x.uri||m}),c("React").createElement(c("FlexibleBlock.react"),{flex:c("FlexibleBlock.react").FLEX.left},c("React").createElement("div",{className:"_4l_v"},o,z),s?null:c("React").createElement(c("NotificationAttachment.react"),{image:w})))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("NotificationListItemOptionConfirmation.react",["cx","fbt","List.react","NotificationInterpolator","React","TextWithEntities.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.notificationOptions,m=k.undoText,n=k.undoToken;return[m!=null||n!=null?c("React").createElement("div",{className:"_4ai",key:"options"},m!=null?c("React").createElement(c("TextWithEntities.react"),{interpolator:c("NotificationInterpolator"),ranges:m.ranges,aggregatedranges:m.aggregated_ranges,text:m.text}):null,n!=null?c("React").createElement("a",{href:"#",onClick:function o(){return k.onUndoClick()},className:"mls"},i._("Undo")):null):null,c("React").createElement(c("List.react"),{border:"none",className:"_1v4c",key:"followups",spacing:"small"},l?l.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement("li",{key:t+":"+s},c("React").createElement("a",{className:"mls",href:"#",onClick:function u(){return k.onMenuOptionClick(o)}},r))}):null)]}f.exports=j}),null);
__d("NotificationListItemReadToggle.react",["cx","fbt","React","ReadToggle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.isRead,m=k.canMarkUnread,n=k.onToggleClick;return c("React").createElement(c("ReadToggle.react"),{className:"_55m9 _55ma",isRead:l,onClick:n,readLabel:m?i._("Mark as Unread"):i._("Read"),unreadLabel:i._("Mark as Read")})}f.exports=j}),null);
__d("NotificationListItemBase.react",["csx","cx","fbt","invariant","AsyncDialog","AsyncResponse","BizSiteIdentifier.brands","Bootloader","LogicalGridCell.react","LogicalGridRow.react","NotificationConstants","NotificationListConfig","NotificationListItemChevron.react","NotificationListItemContents.react","NotificationListItemOptionConfirmation.react","NotificationListItemReadToggle.react","NotificationTracking","NotificationUpdates","NotificationUserActions","NotifTestIDs","Parent","React","ReactDOM","Style","URI","compactArray","createObjectFrom","idx"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c("BizSiteIdentifier.brands").isBizSite(),o=-1;function p(r){if(r.length===0)return;var s=r[0],t=s.description,u=s.is_silent,v=s.is_transient,w=s.message,x=new(c("AsyncResponse"))();x.errorSummary=t;x.errorDescription=w;x.silentError=u;x.transientError=v;c("AsyncResponse").defaultErrorHandler(x)}l=babelHelpers.inherits(q,c("React").Component);m=l&&l.prototype;function q(){var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.prefetched=false,this.isLiveVideo=null,this.$NotificationListItemBase1=false,this.state={actionsTaken:[],sendingFeedback:false},this.$NotificationListItemBase4=function(){c("NotificationUserActions").setNextIsFromReadButton(true);if(this.props.isRead){if(this.props.canMarkUnread)if(this.props.onMarkItemUnread)this.props.onMarkItemUnread()}else if(this.props.onMarkItemRead)this.props.onMarkItemRead()}.bind(this),this.$NotificationListItemBase7=function(w){var x,y,z=this,A=(x=w)!=null?(x=x.client_info)!=null?x.action_type:x:x;if(A==null)return;if(A==="REPORT_BUG"){var B=new(c("URI"))("/ajax/bugs/employee_report").setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:this.$NotificationListItemBase3()});c("AsyncDialog").bootstrap(B.toString(),null,"dialog")}else if(A==="OPEN_IN_INSPECTOR"){var C,D=(C=w)!=null?(C=C.option_display)!=null?(C=C.subtext)!=null?C.text:C:C:C;D!=null||k(0);window.open(D,"_blank")}else{var y=function(){var E=w.server_action;if(E==null)return{v:void 0};z.setState({sendingFeedback:true});c("NotificationUserActions").sendNotifOption(E).done(function(F){if(this.$NotificationListItemBase1)return;this.setState(function(G){var H,I,J,K=(H=F)!=null?(H=H.notif_option_action)!=null?(H=H.notification)!=null?(H=H.notif_option_sets)!=null?(H=H.edges)!=null?(H=H[0])!=null?(H=H.node)!=null?(H=H.notif_options)!=null?H.edges:H:H:H:H:H:H:H:H,L=babelHelpers["extends"]({},G,{actionsTaken:G.actionsTaken.concat([{actionToken:E,type:A,nextNotificationOptions:K&&c("compactArray")(K.map(function(M){var N=M.node;return N})),undoText:(I=w)!=null?(I=I.option_display)!=null?I.undo_text:I:I,undoToken:(J=w)!=null?(J=J.client_info)!=null?J.undo_server_action:J:J}]),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([this.$NotificationListItemBase3()],this.$NotificationListItemBase10(L))});return L}.bind(this))}.bind(z),z.$NotificationListItemBase12)}();if(typeof y==="object")return y.v}}.bind(this),this.$NotificationListItemBase13=function(){var w=this.$NotificationListItemBase3();this.setState({sendingFeedback:true});var x=this.state.actionsTaken[this.state.actionsTaken.length-1];if(x&&x.undoToken!=null)c("NotificationUserActions").sendNotifOption(x.undoToken).done(function(y){if(this.$NotificationListItemBase1)return;this.setState(function(z){var A=babelHelpers["extends"]({},z,{actionsTaken:z.actionsTaken.slice(0,this.state.actionsTaken.length-1),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([w],this.$NotificationListItemBase10(A))});return A}.bind(this))}.bind(this),this.$NotificationListItemBase12)}.bind(this),this.$NotificationListItemBase12=function(w){var x=w.errors;if(this.$NotificationListItemBase1)return;p(x);this.setState({sendingFeedback:false})}.bind(this),s}q.prototype.$NotificationListItemBase3=function(){"use strict";return this.props.notification.alert_id};q.prototype.$NotificationListItemBase5=function(){"use strict";var r=this.props,s=r.canMarkUnread,t=r.isRead;return c("React").createElement(c("NotificationListItemReadToggle.react"),{canMarkUnread:s,isRead:!!t,onToggleClick:this.$NotificationListItemBase4})};q.prototype.$NotificationListItemBase6=function(){var r;"use strict";var s=this.props,t=s.onChevronHide,u=s.onChevronShow,v=s.notification,w=v.alert_id,x=v.notif_option_sets,y=v.notif_type,z=v.rendererData,A=false;if(z)A=z.logMenuExposure;var B=(r=x)!=null?(r=r.edges)!=null?(r=r[0])!=null?(r=r.node)!=null?(r=r.notif_options)!=null?r.edges:r:r:r:r:r;return c("React").createElement(c("NotificationListItemChevron.react"),{alert_id:w,className:"_55m9",notif_type:y,notificationOptions:B&&c("compactArray")(B.map(function(C){var D=C.node;return D})),onHide:t,onMenuOptionClick:this.$NotificationListItemBase7,onShow:u,logMenuExposure:A})};q.prototype.shouldComponentUpdate=function(r,s){"use strict";var t=this.props.visible!==r.visible||this.props.isRead!==r.isRead||this.props.isSelected!==r.isSelected||this.props.notification.timestamp!==r.notification.timestamp||this.state.actionsTaken.length!==s.actionsTaken.length||this.state.sendingFeedback!==s.sendingFeedback;return t||!!this.props.hasCustomForeground&&this.props.paused!==r.paused};q.prototype.componentWillUpdate=function(r){"use strict";if(!this.$NotificationListItemBase2||!r.isSelected||this.props.isSelected)return;var s=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);s&&s.scrollIntoViewIfNeeded&&s.scrollIntoViewIfNeeded(false)};q.prototype.componentWillReceiveProps=function(r){"use strict";if(this.props.paused&&!r.paused&&!this.props.visible&&this.state.actionsTaken.length>0)this.setState({actionsTaken:[]})};q.prototype.componentDidMount=function(){"use strict";if(this.$NotificationListItemBase8())c("Bootloader").loadModules(["VideoPlayerMetaData"],function(r){r.genVideoData(this.$NotificationListItemBase9()).done()}.bind(this),"NotificationListItemBase.react")};q.prototype.componentDidUpdate=function(){"use strict";if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItemBase2){var r=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);if(r&&typeof r.focus=="function")r.focus()}};q.prototype.$NotificationListItemBase10=function(){var r=arguments.length<=0||arguments[0]===undefined?this.state:arguments[0];"use strict";return r.actionsTaken.some(function(s){return s.type==="HIDE"})};q.prototype.$NotificationListItemBase11=function(){"use strict";var r=c("ReactDOM").findDOMNode(this);if(!r)return false;var s=c("Parent").bySelector(r,".__tw"),t=s?s.parentNode:null;return t?c("Style").get(t,"display")!=="none":false};q.prototype.$NotificationListItemBase14=function(r){"use strict";if(this.state.actionsTaken.length>=2)return null;var s={};this.state.actionsTaken.forEach(function(t){s[t.actionToken]=true});return r.filter(function(t){var u=t.server_action;return u==null||s[u]!==true})};q.prototype.$NotificationListItemBase9=function(){"use strict";var r=c("NotificationTracking").getEncodedTrackingData(this.props.notification,this.props.row);return r.content_id||null};q.prototype.$NotificationListItemBase8=function(){"use strict";if(this.isLiveVideo===null){var r=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=r.indexOf("live_video")!==-1}return!!this.isLiveVideo};q.prototype.render=function(){"use strict";if(!this.props.visible&&!this.$NotificationListItemBase10())return c("React").createElement("li",{className:"_4_62"});var r="_33c"+(c("NotificationListConfig").isWork?" _1rqj":"")+(!this.props.isRead?" jewelItemNew":"")+(this.state.sendingFeedback?" _4m8s":"")+(this.props.hasCustomForeground?" _3u5n":"")+(this.props.isSelected?" _u-o":""),s=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row),t=this.props.rowIndex;if(this.state.actionsTaken.length>0){var u=this.state.actionsTaken[this.state.actionsTaken.length-1];return c("React").createElement("li",{className:r,"data-gt":s,"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre",rowIndex:t,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},c("React").createElement(c("NotificationListItemOptionConfirmation.react"),{notificationOptions:u.nextNotificationOptions?this.$NotificationListItemBase14(u.nextNotificationOptions):null,onUndoClick:this.$NotificationListItemBase13,onMenuOptionClick:this.$NotificationListItemBase7,undoText:u.undoText,undoToken:u.undoToken}))))}var v=c("React").createElement(c("NotificationListItemContents.react"),this.props),w=this.props.renderLink(v);return c("React").createElement("li",{className:r,"data-gt":s,"data-alert-id":this.$NotificationListItemBase3(),"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre anchorContainer",rowIndex:t,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},w),c("React").createElement("ul",{className:"_55mc"},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:1,component:c("React").createElement("li",{className:"_h_c"})},this.$NotificationListItemBase5()),c("React").createElement(c("LogicalGridCell.react"),{columnIndex:2,component:c("React").createElement("li",{className:"_h_d"}),disableFocusRecovery:true},this.$NotificationListItemBase6()))))};f.exports=q}),null);
__d("NotificationListItem.react",["cx","Bootloader","Event","Keys","Link.react","NotificationListConfig","NotificationListDelights.react","NotificationListDelightUtils","NotificationListItemBase.react","NotificationListRendererUtils","NotificationURI","NotificationUserActions","PageTransitions","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$NotificationListItem6=function(q){this.props.onClick&&this.props.onClick(this.$NotificationListItem4());this.$NotificationListItem7(q);c("NotificationListRendererUtils").openNotification(q,this.props.notification)}.bind(this),this.$NotificationListItem8=function(q){if(c("Event").getKeyCode(q.nativeEvent)==c("Keys").RETURN){var r=this.$NotificationListItem4();this.props.onSelected&&this.props.onSelected(r);this.$NotificationListItem7(q)}}.bind(this),this.$NotificationListItem7=function(q){var r=this.$NotificationListItem4();if(this.props.onRead&&q)this.props.onRead(r);c("NotificationUserActions").markNotificationsAsRead([r],null)}.bind(this),this.$NotificationListItem9=function(){var q=this.$NotificationListItem4();c("NotificationUserActions").markNotificationsAsUnread([q],null)}.bind(this),this.$NotificationListItem11=function(q){var r=c("NotificationURI").localize(new(c("URI"))(this.props.notification.url));return c("React").createElement("a",babelHelpers["extends"]({},this.props.notification.primerAttributes,{href:r,role:"button",tabIndex:0,className:"_33e _1_0e",onClick:this.$NotificationListItem5.bind(this,r),onClickCapture:this.$NotificationListItem6,onKeyUp:this.$NotificationListItem8}),q,this.$NotificationListItem10())}.bind(this),m}k.prototype.$NotificationListItem2=function(){return c("NotificationListConfig").canMarkUnread||(this.props.enableHubView||false)&&c("NotificationListConfig").canMarkUnreadInHub};k.prototype.$NotificationListItem3=function(){var l=this.props,m=l.notification,n=l.isRead,o=l.rowIndex;return c("NotificationListDelightUtils").canShowHeartDelight(m,n,o)};k.prototype.$NotificationListItem4=function(){return this.props.notification.alert_id};k.prototype.$NotificationListItem5=function(l,m){var n,o=this.props.notification,p=o.primerAttributes,q=o.url;if(p&&p.ajaxify)(function(){var u=new(c("URI"))(p.ajaxify),v=u.getQueryData(),w=v.app_id,x=v.page_id,y=v.post_id,z=v.ref;if(z==="aymt_auto_opened_dialog")c("Bootloader").loadModules(["BoostedComponentAYMTActionsV2"],function(A){A.aymtAutoOpenDialogLinkClick(w,x,y,"",z)},"NotificationListItem.react")})();else if(q){var r=new(c("URI"))(q),s=r.getQueryData(),t=s.aymt_tip;if(t==="1")c("PageTransitions").go(r.addQueryData("aymt_link_click",Date.now()))}};k.prototype.$NotificationListItem10=function(){if(!this.$NotificationListItem3()||!this.props.paused)return null;return c("React").createElement(c("NotificationListDelights.react"),{notification:this.props.notification,rowIndex:this.props.rowIndex})};k.prototype.render=function(){return c("React").createElement(c("NotificationListItemBase.react"),babelHelpers["extends"]({},this.props,{canMarkUnread:this.$NotificationListItem2(),hasCustomForeground:this.$NotificationListItem3(),renderLink:this.$NotificationListItem11,onMarkItemRead:this.$NotificationListItem7,onMarkItemUnread:this.$NotificationListItem9,hideIcon:false}))};f.exports=k}),null);
__d("NotificationListPropTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={tracking:h.string,notifs:h.object,afterScroll:h.func,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,notifTab:h.string,listItemRenderer:h.func};f.exports=i}),null);
__d("NotificationPageList.react",["cx","fbt","ErrorBoundary.react","Event","LoadingIndicator.react","LogicalGrid.react","NotificationListItem.react","NotificationListPropTypes","NotifTestIDs","React","ReactDOM","Vector","debounce","getObjectValues","getViewportDimensions","isEmpty"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$NotificationPageList5=function(){var r=c("ReactDOM").findDOMNode(this.$NotificationPageList2),s=this.$NotificationPageList4();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList3(),r,s)}.bind(this),this.$NotificationPageList7=function(){return c("getObjectValues")(this.props.notifs).map(function(r){return JSON.stringify(r)})}.bind(this),n}l.prototype.$NotificationPageList3=function(){"use strict";if(!this.$NotificationPageList1)return false;var m=c("ReactDOM").findDOMNode(this.$NotificationPageList1);if(!m)return false;var n=c("Vector").getElementPosition(m,"viewport").y;return n<c("Vector").getViewportDimensions().y};l.prototype.$NotificationPageList4=function(){"use strict";var m=c("getViewportDimensions").withoutScrollbars();return{top:0,bottom:m.height,left:0,right:m.width}};l.prototype.$NotificationPageList6=function(m,n){"use strict";return n.indexOf(m)};l.prototype.componentDidUpdate=function(){"use strict";this.$NotificationPageList5()};l.prototype.componentDidMount=function(){"use strict";c("Event").listen(window,"scroll",c("debounce")(this.$NotificationPageList5,200));this.$NotificationPageList5()};l.prototype.$NotificationPageList8=function(){"use strict";var m=c("getObjectValues")(this.props.notifs).map(function(o){return o.alert_id}),n=this.props.listItemRenderer;return c("getObjectValues")(this.props.notifs).map(function(o,p){var q=o.alert_id,r=this.$NotificationPageList6(q,m);return c("React").createElement(c("ErrorBoundary.react"),{key:q},c("React").createElement(n,{getDebugData:this.$NotificationPageList7,enableMarkUnread:this.props.enableMarkUnread,isNotifsPage:true,isRead:this.props.readState[q],isSelected:this.props.selectedID===q,noPhotoPreviews:true,notification:o,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,paused:!!this.props.paused,row:r,rowIndex:p,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[q]}))}.bind(this))};l.prototype.render=function(){"use strict";var m=null,n=null,o=c("React").createElement("ul",{"data-gt":this.props.tracking,"data-testid":c("NotifTestIDs").SEE_ALL_LIST});if(!c("isEmpty")(this.props.notifs))m=c("React").createElement(c("LogicalGrid.react"),{ref:function(s){return this.$NotificationPageList2=s}.bind(this),component:o},this.$NotificationPageList8());else if(!this.props.canFetchMore)m=c("React").createElement("div",{className:"_44_s","data-testid":c("NotifTestIDs").SEE_ALL_LIST},i._("No new notifications"));if(this.props.canFetchMore)n=c("React").createElement(c("LoadingIndicator.react"),{color:"white",size:"large",ref:function(s){return this.$NotificationPageList1=s}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c("React").createElement(q,babelHelpers["extends"]({isPage:true},this.props.upsell.props))}var r="_44_u"+(this.props.showingChevron?" _44_v":"");return c("React").createElement("div",{className:r},p,m,n)};l.propTypes=c("NotificationListPropTypes");l.defaultProps={listItemRenderer:c("NotificationListItem.react")};f.exports=l}),null);
__d("MobileSmsActivationController",["AsyncRequest","AsyncResponse","Dialog","goURI","ge","ReloadPage","$","DeprecatedCSSMiscellany"],(function a(b,c,d,e,f,g){var h=c("DeprecatedCSSMiscellany").hide,i=c("DeprecatedCSSMiscellany").show;function j(k,l,m,n,o,p){Object.assign(this,{profile_id:k,parent:parent,source:l,misc:m,carrier:null,AJAX_URI:"/ajax/mobile/activation.php",redirect_uri:null,cb_obj:n,status_id:p||"mobile_throbber"});if(o)this.goVerification();else this.start();j.instance=this}j.instance={};j.getInstance=function(){return j.instance};j.show_carriers=function(){var k=c("$")("selected_country").value,l=c("$")("carrier_country").value;if(k)h(c("$")(k+"_carrier_select"));c("$")("selected_country").value=l;c("$")("selected_carrier").value=0;i(c("$")(l+"_carrier_select"))};j.update_carrier=function(){var k=c("$")("selected_country").value+"_carrier_select";c("$")("selected_carrier").value=c("$")(k).value};Object.assign(j.prototype,{goStep:function k(l){if(l==2){this.getShortCode();return}else if(l==3){this.getConfirmCode();return}this.start()},start:function k(l){new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,get_carriers:1,source:this.source,misc:this.misc,error:l}).setHandler(this.showCarriers.bind(this)).setStatusElement(c("$")(this.status_id)).send()},showCarriers:function k(l){var m=l.getPayload();if(!m)return;if(this.cb_obj&&this.cb_obj.onShowCarriers)this.cb_obj.onShowCarriers(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.getShortCode.bind(this)).setButtons([c("Dialog").NEXT,c("Dialog").CANCEL]).show()},getShortCode:function k(){if(!this.carrier){this.carrier=parseInt(c("$")("selected_carrier").value,10);if(!this.carrier){this.start(true);return false}}c("Dialog").getCurrent()&&c("Dialog").getCurrent().setButtonsMessage('<img src="/images/loaders/indicator_blue_small.gif" />');new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,get_code:1,carrier:this.carrier,source:this.source,misc:this.misc}).setHandler(this.showShortCode.bind(this)).send();return false},showShortCode:function k(l){var m=l.getPayload();if(this.cb_obj&&this.cb_obj.onShowShortCode)this.cb_obj.onShowShortCode(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.activate.bind(this)).setButtons([c("Dialog").NEXT,c("Dialog").CANCEL]).show()},activate:function k(){var l=c("$")("sms_code").value;if(!l)return;var m=c("ge")("profile_add");m=m?m.checked:null;var n=c("ge")("message_on");n=n?n.checked:null;new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,confirm:1,code:l,profile_add:m,message_on:n,source:this.source,misc:this.misc}).setHandler(this.confirmCode.bind(this)).setErrorHandler(this.confirmCode.bind(this)).send()},confirmCode:function k(l){var m=l.getPayload();if(!l.error&&m.success)if(this.cb_obj&&this.cb_obj.onActivationSuccess)this.cb_obj.onActivationSuccess(m);else{if(m.redirect_now){c("goURI")(m.redirect,m.force_redirect);return}if(m.redirect==null)return;this.redirect_uri=m.redirect;new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.redirect.bind(this)).setButtons([c("Dialog").OK]).show()}else if(this.cb_obj&&this.cb_obj.onActivationFailure)this.cb_obj.onActivationFailure(l);else c("AsyncResponse").defaultErrorHandler.call(this,l)},redirect:function k(){if(this.redirect_uri=="reload")c("ReloadPage").now();else c("goURI")(this.redirect_uri)},goVerification:function k(){new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,show_verification:1,source:this.source,misc:this.misc}).setHandler(this.displayVerification.bind(this)).send();return false},displayVerification:function k(l){var m=l.getPayload();if(this.cb_obj&&this.cb_obj.onDisplayVerification)this.cb_obj.onDisplayVerification(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.completeVerification.bind(this,l)).setButtons([c("Dialog").OK]).show()},completeVerification:function k(l){var m=l.getPayload();if(this.cb_obj)this.cb_obj.onVerificationComplete(m)}});f.exports=j}),null);
__d("legacy:mobile-sms-activation",["MobileSmsActivationController"],(function a(b,c,d,e,f,g){b.MobileSmsActivationController=c("MobileSmsActivationController");b.mobile_activation_show_carriers=c("MobileSmsActivationController").show_carriers;b.mobile_activation_update_carrier=c("MobileSmsActivationController").update_carrier}),3);